<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">







<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.yj0.se","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/./public/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script>



<link rel="canonical" href="http://blog.yj0.se/2022/intro_kubernetes/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://blog.yj0.se/2022/intro_kubernetes/","path":"2022/intro_kubernetes/","title":"Kubernetes Tutorial for Beginners"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Kubernetes Tutorial for Beginners | Yue Jiao's blog</title>
  








  <style>:root {
  --body-bg-color: #eee;
  --content-bg-color: #fff;
  --card-bg-color: #f5f5f5;
  --text-color: #555;
  --selection-bg: #262a30;
  --selection-color: #eee;
  --blockquote-color: #666;
  --link-color: #555;
  --link-hover-color: #222;
  --brand-color: #fff;
  --brand-hover-color: #fff;
  --table-row-odd-bg-color: #f9f9f9;
  --table-row-hover-bg-color: #f5f5f5;
  --menu-item-bg-color: #f5f5f5;
  --theme-color: #222;
  --btn-default-bg: #fff;
  --btn-default-color: #555;
  --btn-default-border-color: #555;
  --btn-default-hover-bg: #222;
  --btn-default-hover-color: #fff;
  --btn-default-hover-border-color: #222;
  --highlight-background: #f3f3f3;
  --highlight-foreground: #444;
  --highlight-gutter-background: #e1e1e1;
  --highlight-gutter-foreground: #555;
  color-scheme: light;
}
html {
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
main {
  display: block;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
hr {
  box-sizing: content-box; /* 1 */
  height: 0; /* 1 */
  overflow: visible; /* 2 */
}
pre {
  font-family: monospace, monospace; /* 1 */
  font-size: 1em; /* 2 */
}
a {
  background: transparent;
}
abbr[title] {
  border-bottom: none; /* 1 */
  text-decoration: underline; /* 2 */
  text-decoration: underline dotted; /* 2 */
}
b,
strong {
  font-weight: bolder;
}
code,
kbd,
samp {
  font-family: monospace, monospace; /* 1 */
  font-size: 1em; /* 2 */
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sub {
  bottom: -0.25em;
}
sup {
  top: -0.5em;
}
img {
  border-style: none;
}
button,
input,
optgroup,
select,
textarea {
  font-family: inherit; /* 1 */
  font-size: 100%; /* 1 */
  line-height: 1.15; /* 1 */
  margin: 0; /* 2 */
}
button,
input {
/* 1 */
  overflow: visible;
}
button,
select {
/* 1 */
  text-transform: none;
}
button,
[type='button'],
[type='reset'],
[type='submit'] {
  -webkit-appearance: button;
}
button::-moz-focus-inner,
[type='button']::-moz-focus-inner,
[type='reset']::-moz-focus-inner,
[type='submit']::-moz-focus-inner {
  border-style: none;
  padding: 0;
}
button:-moz-focusring,
[type='button']:-moz-focusring,
[type='reset']:-moz-focusring,
[type='submit']:-moz-focusring {
  outline: 1px dotted ButtonText;
}
fieldset {
  padding: 0.35em 0.75em 0.625em;
}
legend {
  box-sizing: border-box; /* 1 */
  color: inherit; /* 2 */
  display: table; /* 1 */
  max-width: 100%; /* 1 */
  padding: 0; /* 3 */
  white-space: normal; /* 1 */
}
progress {
  vertical-align: baseline;
}
textarea {
  overflow: auto;
}
[type='checkbox'],
[type='radio'] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
[type='number']::-webkit-inner-spin-button,
[type='number']::-webkit-outer-spin-button {
  height: auto;
}
[type='search'] {
  outline-offset: -2px; /* 2 */
  -webkit-appearance: textfield; /* 1 */
}
[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
::-webkit-file-upload-button {
  font: inherit; /* 2 */
  -webkit-appearance: button; /* 1 */
}
details {
  display: block;
}
summary {
  display: list-item;
}
template {
  display: none;
}
[hidden] {
  display: none;
}
::selection {
  background: var(--selection-bg);
  color: var(--selection-color);
}
html,
body {
  height: 100%;
}
body {
  background: var(--body-bg-color);
  box-sizing: border-box;
  color: var(--text-color);
  font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;
  font-size: 1em;
  line-height: 2;
  min-height: 100%;
  position: relative;
  transition: padding 0.2s ease-in-out;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;
  font-weight: bold;
  line-height: 1.5;
  margin: 30px 0 15px;
}
h1 {
  font-size: 1.5em;
}
h2 {
  font-size: 1.375em;
}
h3 {
  font-size: 1.25em;
}
h4 {
  font-size: 1.125em;
}
h5 {
  font-size: 1em;
}
h6 {
  font-size: 0.875em;
}
p {
  margin: 0 0 20px;
}
a {
  border-bottom: 1px solid #999;
  color: var(--link-color);
  cursor: pointer;
  outline: 0;
  text-decoration: none;
  overflow-wrap: break-word;
}
a:hover {
  border-bottom-color: var(--link-hover-color);
  color: var(--link-hover-color);
}
iframe,
img,
video,
embed {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 100%;
}
hr {
  background-image: repeating-linear-gradient(-45deg, #ddd, #ddd 4px, transparent 4px, transparent 8px);
  border: 0;
  height: 3px;
  margin: 40px 0;
}
blockquote {
  border-left: 4px solid #ddd;
  color: var(--blockquote-color);
  margin: 0;
  padding: 0 15px;
}
blockquote cite::before {
  content: '-';
  padding: 0 5px;
}
dt {
  font-weight: bold;
}
dd {
  margin: 0;
  padding: 0;
}
.table-container {
  overflow: auto;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
  font-size: 0.875em;
  margin: 0 0 20px;
  width: 100%;
}
tbody tr:nth-of-type(odd) {
  background: var(--table-row-odd-bg-color);
}
tbody tr:hover {
  background: var(--table-row-hover-bg-color);
}
caption,
th,
td {
  padding: 8px;
}
th,
td {
  border: 1px solid #ddd;
  border-bottom: 3px solid #ddd;
}
th {
  font-weight: 700;
  padding-bottom: 10px;
}
td {
  border-bottom-width: 1px;
}
.btn {
  background: var(--btn-default-bg);
  border: 2px solid var(--btn-default-border-color);
  border-radius: 2px;
  color: var(--btn-default-color);
  display: inline-block;
  font-size: 0.875em;
  line-height: 2;
  padding: 0 20px;
  transition: background-color 0.2s ease-in-out;
}
.btn:hover {
  background: var(--btn-default-hover-bg);
  border-color: var(--btn-default-hover-border-color);
  color: var(--btn-default-hover-color);
}
.btn + .btn {
  margin: 0 0 8px 8px;
}
.btn .fa-fw {
  text-align: left;
  width: 1.285714285714286em;
}
.toggle {
  line-height: 0;
}
.toggle .toggle-line {
  background: #fff;
  display: block;
  height: 2px;
  left: 0;
  position: relative;
  top: 0;
  transition: 0.4s;
  transition-property: left, opacity, top, transform, width;
  width: 100%;
}
.toggle .toggle-line:first-child {
  margin-top: 1px;
}
.toggle .toggle-line:not(:first-child) {
  margin-top: 4px;
}
.toggle.toggle-arrow :first-child {
  left: 50%;
  top: 2px;
  transform: rotate(45deg);
  width: 50%;
}
.toggle.toggle-arrow :last-child {
  left: 50%;
  top: -2px;
  transform: rotate(-45deg);
  width: 50%;
}
.toggle.toggle-close :nth-child(2) {
  opacity: 0;
}
.toggle.toggle-close :first-child {
  top: 6px;
  transform: rotate(45deg);
}
.toggle.toggle-close :last-child {
  top: -6px;
  transform: rotate(-45deg);
}
pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em
}
code.hljs {
  padding: 3px 5px
}
/*!
  Theme: Default
  Description: Original highlight.js style
  Author: (c) Ivan Sagalaev <maniac@softwaremaniacs.org>
  Maintainer: @highlightjs/core-team
  Website: https://highlightjs.org/
  License: see project LICENSE
  Touched: 2021
*/
/*
This is left on purpose making default.css the single file that can be lifted
as-is from the repository directly without the need for a build step

Typically this "required" baseline CSS is added by `makestuff.js` during build.
*/
pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em
}
code.hljs {
  padding: 3px 5px
}
/* end baseline CSS */
.hljs {
  background: #F3F3F3;
  color: #444
}
/* Base color: saturation 0; */
.hljs-subst {
  /* default */
  
}
/* purposely ignored */
.hljs-formula,
.hljs-attr,
.hljs-property,
.hljs-params {
  
}
.hljs-comment {
  color: #697070
}
.hljs-tag,
.hljs-punctuation {
  color: #444a
}
.hljs-tag .hljs-name,
.hljs-tag .hljs-attr {
  color: #444
}
.hljs-keyword,
.hljs-attribute,
.hljs-selector-tag,
.hljs-meta .hljs-keyword,
.hljs-doctag,
.hljs-name {
  font-weight: bold
}
/* User color: hue: 0 */
.hljs-type,
.hljs-string,
.hljs-number,
.hljs-selector-id,
.hljs-selector-class,
.hljs-quote,
.hljs-template-tag,
.hljs-deletion {
  color: #880000
}
.hljs-title,
.hljs-section {
  color: #880000;
  font-weight: bold
}
.hljs-regexp,
.hljs-symbol,
.hljs-variable,
.hljs-template-variable,
.hljs-link,
.hljs-selector-attr,
.hljs-operator,
.hljs-selector-pseudo {
  color: #ab5656
}
/* Language color: hue: 90; */
.hljs-literal {
  color: #695
}
.hljs-built_in,
.hljs-bullet,
.hljs-code,
.hljs-addition {
  color: #397300
}
/* Meta color: hue: 200 */
.hljs-meta {
  color: #1f7199
}
.hljs-meta .hljs-string {
  color: #38a
}
/* Misc effects */
.hljs-emphasis {
  font-style: italic
}
.hljs-strong {
  font-weight: bold
}
code,
kbd,
figure.highlight,
pre {
  background: var(--highlight-background);
  color: var(--highlight-foreground);
}
figure.highlight,
pre {
  line-height: 1.6;
  margin: 0 auto 20px;
}
figure.highlight figcaption,
pre .caption {
  background: var(--highlight-gutter-background);
  color: var(--highlight-foreground);
  display: flow-root;
  font-size: 0.875em;
  line-height: 1.2;
  padding: 0.5em;
}
figure.highlight figcaption a,
pre .caption a {
  color: var(--highlight-foreground);
  float: right;
}
figure.highlight figcaption a:hover,
pre .caption a:hover {
  border-bottom-color: var(--highlight-foreground);
}
pre,
code {
  font-family: consolas, Menlo, monospace, 'PingFang SC', 'Microsoft YaHei';
}
code {
  border-radius: 3px;
  font-size: 0.875em;
  padding: 2px 4px;
  overflow-wrap: break-word;
}
kbd {
  border: 2px solid #ccc;
  border-radius: 0.2em;
  box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1);
  font-family: inherit;
  padding: 0.1em 0.3em;
  white-space: nowrap;
}
figure.highlight {
  overflow: auto;
  position: relative;
}
figure.highlight pre {
  border: 0;
  margin: 0;
  padding: 10px 0;
}
figure.highlight table {
  border: 0;
  margin: 0;
  width: auto;
}
figure.highlight td {
  border: 0;
  padding: 0;
}
figure.highlight .gutter {
  -webkit-user-select: none;
  user-select: none;
}
figure.highlight .gutter pre {
  background: var(--highlight-gutter-background);
  color: var(--highlight-gutter-foreground);
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
}
figure.highlight .code pre {
  padding-left: 10px;
  width: 100%;
}
figure.highlight .marked {
  background: rgba(0,0,0,0.3);
}
pre .caption {
  margin-bottom: 10px;
}
.gist table {
  width: auto;
}
.gist table td {
  border: 0;
}
pre {
  overflow: auto;
  padding: 10px;
}
pre code {
  background: none;
  padding: 0;
  text-shadow: none;
}
.blockquote-center {
  border-left: 0;
  margin: 40px 0;
  padding: 0;
  position: relative;
  text-align: center;
}
.blockquote-center::before,
.blockquote-center::after {
  left: 0;
  line-height: 1;
  opacity: 0.6;
  position: absolute;
  width: 100%;
}
.blockquote-center::before {
  border-top: 1px solid #ccc;
  text-align: left;
  top: -20px;
  content: '\f10d';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
}
.blockquote-center::after {
  border-bottom: 1px solid #ccc;
  bottom: -20px;
  text-align: right;
  content: '\f10e';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
}
.blockquote-center p,
.blockquote-center div {
  text-align: center;
}
.group-picture {
  margin-bottom: 20px;
}
.group-picture .group-picture-row {
  display: flex;
  gap: 3px;
  margin-bottom: 3px;
}
.group-picture .group-picture-column {
  flex: 1;
}
.group-picture .group-picture-column img {
  height: 100%;
  margin: 0;
  object-fit: cover;
  width: 100%;
}
.post-body .label {
  color: #555;
  padding: 0 2px;
}
.post-body .label.default {
  background: #f0f0f0;
}
.post-body .label.primary {
  background: #efe6f7;
}
.post-body .label.info {
  background: #e5f2f8;
}
.post-body .label.success {
  background: #e7f4e9;
}
.post-body .label.warning {
  background: #fcf6e1;
}
.post-body .label.danger {
  background: #fae8eb;
}
.post-body .link-grid {
  display: grid;
  grid-gap: 1.5rem;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  margin-bottom: 20px;
  padding: 1rem;
}
.post-body .link-grid .link-grid-container {
  border: solid #ddd;
  box-shadow: 1rem 1rem 0.5rem rgba(0,0,0,0.5);
  min-height: 5rem;
  min-width: 0;
  padding: 0.5rem;
  position: relative;
  transition: background 0.3s;
}
.post-body .link-grid .link-grid-container:hover {
  animation: next-shake 0.5s;
  background: var(--card-bg-color);
}
.post-body .link-grid .link-grid-container:active {
  box-shadow: 0.5rem 0.5rem 0.25rem rgba(0,0,0,0.5);
  transform: translate(0.2rem, 0.2rem);
}
.post-body .link-grid .link-grid-container .link-grid-image {
  border: 1px solid #ddd;
  border-radius: 50%;
  box-sizing: border-box;
  height: 5rem;
  padding: 3px;
  position: absolute;
  width: 5rem;
}
.post-body .link-grid .link-grid-container p {
  margin: 0 1rem 0 6rem;
}
.post-body .link-grid .link-grid-container p:first-of-type {
  font-size: 1.2em;
}
.post-body .link-grid .link-grid-container p:last-of-type {
  font-size: 0.8em;
  line-height: 1.3rem;
  opacity: 0.7;
}
.post-body .link-grid .link-grid-container a {
  border: 0;
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}
@keyframes next-shake {
  0% {
    transform: translate(1pt, 1pt) rotate(0deg);
  }
  10% {
    transform: translate(-1pt, -2pt) rotate(-1deg);
  }
  20% {
    transform: translate(-3pt, 0pt) rotate(1deg);
  }
  30% {
    transform: translate(3pt, 2pt) rotate(0deg);
  }
  40% {
    transform: translate(1pt, -1pt) rotate(1deg);
  }
  50% {
    transform: translate(-1pt, 2pt) rotate(-1deg);
  }
  60% {
    transform: translate(-3pt, 1pt) rotate(0deg);
  }
  70% {
    transform: translate(3pt, 1pt) rotate(-1deg);
  }
  80% {
    transform: translate(-1pt, -1pt) rotate(1deg);
  }
  90% {
    transform: translate(1pt, 2pt) rotate(0deg);
  }
  100% {
    transform: translate(1pt, -2pt) rotate(-1deg);
  }
}
.post-body .note {
  border-radius: 3px;
  margin-bottom: 20px;
  padding: 1em;
  position: relative;
  background: #f5f5f5;
  border: 1px solid transparent;
}
.post-body .note summary {
  cursor: pointer;
  outline: 0;
}
.post-body .note summary p {
  display: inline;
}
.post-body .note h2,
.post-body .note h3,
.post-body .note h4,
.post-body .note h5,
.post-body .note h6 {
  border-bottom: initial;
  margin: 0;
  padding-top: 0;
}
.post-body .note :first-child {
  margin-top: 0;
}
.post-body .note :last-child {
  margin-bottom: 0;
}
.post-body .note.default {
  background: #f3f3f3;
  border-color: #e1e1e1;
  color: #666;
}
.post-body .note.default a:not(.btn) {
  border-bottom-color: #666;
  color: #666;
}
.post-body .note.default a:not(.btn):hover {
  border-bottom-color: #454545;
  color: #454545;
}
.post-body .note.primary {
  background: #f3daff;
  border-color: #e1c2ff;
  color: #6f42c1;
}
.post-body .note.primary a:not(.btn) {
  border-bottom-color: #6f42c1;
  color: #6f42c1;
}
.post-body .note.primary a:not(.btn):hover {
  border-bottom-color: #453298;
  color: #453298;
}
.post-body .note.info {
  background: #d9edf7;
  border-color: #b3e5ef;
  color: #31708f;
}
.post-body .note.info a:not(.btn) {
  border-bottom-color: #31708f;
  color: #31708f;
}
.post-body .note.info a:not(.btn):hover {
  border-bottom-color: #215761;
  color: #215761;
}
.post-body .note.success {
  background: #dff0d8;
  border-color: #d0e6be;
  color: #3c763d;
}
.post-body .note.success a:not(.btn) {
  border-bottom-color: #3c763d;
  color: #3c763d;
}
.post-body .note.success a:not(.btn):hover {
  border-bottom-color: #32562c;
  color: #32562c;
}
.post-body .note.warning {
  background: #fcf4e3;
  border-color: #fae4cd;
  color: #8a6d3b;
}
.post-body .note.warning a:not(.btn) {
  border-bottom-color: #8a6d3b;
  color: #8a6d3b;
}
.post-body .note.warning a:not(.btn):hover {
  border-bottom-color: #714f30;
  color: #714f30;
}
.post-body .note.danger {
  background: #f2dfdf;
  border-color: #ebcdd2;
  color: #a94442;
}
.post-body .note.danger a:not(.btn) {
  border-bottom-color: #a94442;
  color: #a94442;
}
.post-body .note.danger a:not(.btn):hover {
  border-bottom-color: #84333f;
  color: #84333f;
}
.post-body .tabs {
  margin-bottom: 20px;
}
.post-body .tabs,
.tabs-comment {
  padding-top: 10px;
}
.post-body .tabs ul.nav-tabs,
.tabs-comment ul.nav-tabs {
  background: var(--content-bg-color);
  display: flex;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin: 0;
  padding: 0;
  position: sticky;
  top: 0;
  z-index: 5;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs,
  .tabs-comment ul.nav-tabs {
    display: block;
    margin-bottom: 5px;
  }
}
.post-body .tabs ul.nav-tabs li.tab,
.tabs-comment ul.nav-tabs li.tab {
  border-bottom: 1px solid #ddd;
  border-left: 1px solid transparent;
  border-right: 1px solid transparent;
  border-radius: 0 0 0 0;
  border-top: 3px solid transparent;
  flex-grow: 1;
  list-style-type: none;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab,
  .tabs-comment ul.nav-tabs li.tab {
    border-bottom: 1px solid transparent;
    border-left: 3px solid transparent;
    border-right: 1px solid transparent;
    border-top: 1px solid transparent;
  }
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab,
  .tabs-comment ul.nav-tabs li.tab {
    border-radius: 0;
  }
}
.post-body .tabs ul.nav-tabs li.tab a,
.tabs-comment ul.nav-tabs li.tab a {
  border-bottom: initial;
  display: block;
  line-height: 1.8;
  padding: 0.25em 0.75em;
  text-align: center;
  transition: all 0.2s ease-out;
}
.post-body .tabs ul.nav-tabs li.tab a i[class^='fa'],
.tabs-comment ul.nav-tabs li.tab a i[class^='fa'] {
  width: 1.285714285714286em;
}
.post-body .tabs ul.nav-tabs li.tab.active,
.tabs-comment ul.nav-tabs li.tab.active {
  border-bottom-color: transparent;
  border-left-color: #ddd;
  border-right-color: #ddd;
  border-top-color: #fc6423;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab.active,
  .tabs-comment ul.nav-tabs li.tab.active {
    border-bottom-color: #ddd;
    border-left-color: #fc6423;
    border-right-color: #ddd;
    border-top-color: #ddd;
  }
}
.post-body .tabs ul.nav-tabs li.tab.active a,
.tabs-comment ul.nav-tabs li.tab.active a {
  cursor: default;
}
.post-body .tabs .tab-content,
.tabs-comment .tab-content {
  border: 1px solid #ddd;
  border-radius: 0 0 0 0;
  border-top-color: transparent;
}
@media (max-width: 413px) {
  .post-body .tabs .tab-content,
  .tabs-comment .tab-content {
    border-radius: 0;
    border-top-color: #ddd;
  }
}
.post-body .tabs .tab-content .tab-pane,
.tabs-comment .tab-content .tab-pane {
  padding: 20px 20px 0;
}
.post-body .tabs .tab-content .tab-pane:not(.active),
.tabs-comment .tab-content .tab-pane:not(.active) {
  display: none;
}
.pagination .prev,
.pagination .next,
.pagination .page-number,
.pagination .space {
  display: inline-block;
  margin: -1px 10px 0;
  padding: 0 10px;
}
@media (max-width: 767px) {
  .pagination .prev,
  .pagination .next,
  .pagination .page-number,
  .pagination .space {
    margin: 0 5px;
  }
}
.pagination .page-number.current {
  background: #ccc;
  border-color: #ccc;
  color: var(--content-bg-color);
}
.pagination {
  border-top: 1px solid #eee;
  margin: 120px 0 0;
  text-align: center;
}
.pagination .prev,
.pagination .next,
.pagination .page-number {
  border-bottom: 0;
  border-top: 1px solid #eee;
  transition: border-color 0.2s ease-in-out;
}
.pagination .prev:hover,
.pagination .next:hover,
.pagination .page-number:hover {
  border-top-color: var(--link-hover-color);
}
@media (max-width: 767px) {
  .pagination {
    border-top: 0;
  }
  .pagination .prev,
  .pagination .next,
  .pagination .page-number {
    border-bottom: 1px solid #eee;
    border-top: 0;
  }
  .pagination .prev:hover,
  .pagination .next:hover,
  .pagination .page-number:hover {
    border-bottom-color: var(--link-hover-color);
  }
}
.pagination .space {
  margin: 0;
  padding: 0;
}
.comments {
  margin-top: 60px;
  overflow: hidden;
}
.comment-button-group {
  display: flex;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  justify-content: center;
  margin: 1em 0;
}
.comment-button-group .comment-button {
  margin: 0.1em 0.2em;
}
.comment-button-group .comment-button.active {
  background: var(--btn-default-hover-bg);
  border-color: var(--btn-default-hover-border-color);
  color: var(--btn-default-hover-color);
}
.comment-position {
  display: none;
}
.comment-position.active {
  display: block;
}
.tabs-comment {
  margin-top: 4em;
  padding-top: 0;
}
.tabs-comment .comments {
  margin-top: 0;
  padding-top: 0;
}
.headband {
  background: var(--theme-color);
  height: 3px;
}
@media (max-width: 991px) {
  .headband {
    display: none;
  }
}
.site-brand-container {
  display: flex;
  flex-shrink: 0;
  padding: 0 10px;
}
.use-motion .column,
.use-motion .site-brand-container .toggle {
  opacity: 0;
}
.site-meta {
  flex-grow: 1;
  text-align: center;
}
@media (max-width: 767px) {
  .site-meta {
    text-align: center;
  }
}
.custom-logo-image {
  margin-top: 20px;
}
@media (max-width: 991px) {
  .custom-logo-image {
    display: none;
  }
}
.brand {
  border-bottom: 0;
  color: var(--brand-color);
  display: inline-block;
  padding: 0;
}
.brand:hover {
  color: var(--brand-hover-color);
}
.site-title {
  font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;
  font-size: 1.375em;
  font-weight: normal;
  line-height: 1.5;
  margin: 0;
}
.site-subtitle {
  color: #ddd;
  font-size: 0.8125em;
  margin: 10px 10px 0;
}
.use-motion .site-title,
.use-motion .site-subtitle,
.use-motion .custom-logo-image {
  opacity: 0;
  position: relative;
  top: -10px;
}
.site-nav-toggle,
.site-nav-right {
  display: none;
}
@media (max-width: 767px) {
  .site-nav-toggle,
  .site-nav-right {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
}
.site-nav-toggle .toggle,
.site-nav-right .toggle {
  color: var(--text-color);
  padding: 10px;
  width: 22px;
}
.site-nav-toggle .toggle .toggle-line,
.site-nav-right .toggle .toggle-line {
  background: var(--text-color);
  border-radius: 1px;
}
@media (max-width: 767px) {
  .site-nav {
    --scroll-height: 0;
    height: 0;
    overflow: hidden;
    transition: 0.2s ease-in-out;
    transition-property: height, visibility;
    visibility: hidden;
  }
  body:not(.site-nav-on) .site-nav .animated {
    animation: none;
  }
  body.site-nav-on .site-nav {
    height: var(--scroll-height);
    visibility: unset;
  }
}
.menu {
  margin: 0;
  padding: 1em 0;
  text-align: center;
}
.menu-item {
  display: inline-block;
  list-style: none;
  margin: 0 10px;
}
@media (max-width: 767px) {
  .menu-item {
    display: block;
    margin-top: 10px;
  }
  .menu-item.menu-item-search {
    display: none;
  }
}
.menu-item a {
  border-bottom: 0;
  display: block;
  font-size: 0.8125em;
  transition: border-color 0.2s ease-in-out;
}
.menu-item a:hover,
.menu-item a.menu-item-active {
  background: var(--menu-item-bg-color);
}
.menu-item i[class^='fa'] {
  margin-right: 8px;
}
.menu-item .badge {
  background: #ccc;
  border-radius: 10px;
  color: var(--content-bg-color);
  font-weight: bold;
  line-height: 1;
  margin-left: 0.35em;
  padding: 2px 5px;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
}
.use-motion .menu-item {
  visibility: hidden;
}
@media (max-width: 991px) {
  .sidebar {
    left: -320px;
  }
  .sidebar-active .sidebar {
    left: 0;
  }
  .sidebar {
    background: #222;
    bottom: 0;
    box-shadow: inset 0 2px 6px #000;
    max-height: 100vh;
    overflow-y: auto;
    position: fixed;
    top: 0;
    transition: 0.2s ease-out;
    transition-property: left, right;
    width: 320px;
    z-index: 20;
  }
  .sidebar a {
    border-bottom-color: #555;
    color: #999;
  }
  .sidebar a:hover {
    border-bottom-color: #eee;
    color: #eee;
  }
  .links-of-author:not(:first-child) {
    margin-top: 15px;
  }
  .links-of-author a {
    border-bottom-color: #555;
    display: inline-block;
    margin-bottom: 10px;
    margin-right: 10px;
    vertical-align: middle;
  }
  .links-of-author a::before {
    background: #f1abff;
    display: inline-block;
    margin-right: 3px;
    transform: translateY(-2px);
    border-radius: 50%;
    content: ' ';
    height: 4px;
    width: 4px;
  }
  .links-of-blogroll-item {
    padding: 0 5px;
  }
  .popular-posts .popular-posts-item .popular-posts-link:hover {
    background: none;
  }
  .sidebar-dimmer {
    background: #000;
    height: 100%;
    left: 0;
    opacity: 0;
    position: fixed;
    top: 0;
    transition: visibility 0.4s, opacity 0.4s;
    visibility: hidden;
    width: 100%;
    z-index: 10;
  }
  .sidebar-active .sidebar-dimmer {
    opacity: 0.7;
    visibility: visible;
  }
}
.sidebar-inner {
  color: #999;
  padding: 18px 10px;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.sidebar-toggle {
  bottom: 61px;
  height: 16px;
  padding: 5px;
  width: 16px;
  background: #222;
  cursor: pointer;
  opacity: 0.6;
  position: fixed;
  z-index: 30;
  left: 30px;
}
@media (max-width: 991px) {
  .sidebar-toggle {
    left: 20px;
  }
}
.sidebar-toggle:hover {
  opacity: 0.8;
}
@media (max-width: 991px) {
  .sidebar-toggle {
    opacity: 0.8;
  }
}
.sidebar-toggle:hover .toggle-line {
  background: #fc6423;
}
@media (any-hover: hover) {
  body:not(.sidebar-active) .sidebar-toggle:hover :first-child {
    left: 50%;
    top: 2px;
    transform: rotate(45deg);
    width: 50%;
  }
  body:not(.sidebar-active) .sidebar-toggle:hover :last-child {
    left: 50%;
    top: -2px;
    transform: rotate(-45deg);
    width: 50%;
  }
}
.sidebar-active .sidebar-toggle :nth-child(2) {
  opacity: 0;
}
.sidebar-active .sidebar-toggle :first-child {
  top: 6px;
  transform: rotate(45deg);
}
.sidebar-active .sidebar-toggle :last-child {
  top: -6px;
  transform: rotate(-45deg);
}
.sidebar-nav {
  font-size: 0.875em;
  height: 0;
  margin: 0;
  overflow: hidden;
  padding-left: 0;
  pointer-events: none;
  transition: 0.2s ease-in-out;
  transition-property: height, visibility;
  visibility: hidden;
}
.sidebar-nav-active .sidebar-nav {
  height: calc(2em + 1px);
  pointer-events: unset;
  visibility: unset;
}
.sidebar-nav li {
  border-bottom: 1px solid transparent;
  color: var(--text-color);
  cursor: pointer;
  display: inline-block;
  transition: 0.2s ease-in-out;
  transition-property: border-bottom-color, color;
}
.sidebar-nav li.sidebar-nav-overview {
  margin-left: 10px;
}
.sidebar-nav li:hover {
  color: #fc6423;
}
.sidebar-toc-active .sidebar-nav-toc,
.sidebar-overview-active .sidebar-nav-overview {
  border-bottom-color: #fc6423;
  color: #fc6423;
  transition-delay: 0.2s;
}
.sidebar-toc-active .sidebar-nav-toc:hover,
.sidebar-overview-active .sidebar-nav-overview:hover {
  color: #fc6423;
}
.sidebar-panel-container {
  align-items: start;
  display: grid;
  flex: 1;
  overflow-x: hidden;
  overflow-y: auto;
  padding-top: 0;
  transition: padding-top 0.2s ease-in-out;
}
.sidebar-nav-active .sidebar-panel-container {
  padding-top: 20px;
}
.sidebar-panel {
  animation: deactivate-sidebar-panel 0.2s ease-in-out;
  grid-area: 1/1;
  height: 0;
  opacity: 0;
  overflow: hidden;
  pointer-events: none;
  transform: translateY(0);
  transition: 0.2s ease-in-out;
  transition-delay: 0s;
  transition-property: opacity, transform, visibility;
  visibility: hidden;
}
.sidebar-nav-active .sidebar-panel,
.sidebar-overview-active .sidebar-panel.post-toc-wrap {
  transform: translateY(-20px);
}
.sidebar-overview-active:not(.sidebar-nav-active) .sidebar-panel.post-toc-wrap {
  transition-delay: 0s, 0.2s, 0s;
}
.sidebar-overview-active .sidebar-panel.site-overview-wrap,
.sidebar-toc-active .sidebar-panel.post-toc-wrap {
  animation-name: activate-sidebar-panel;
  height: auto;
  opacity: 1;
  pointer-events: unset;
  transform: translateY(0);
  transition-delay: 0.2s, 0.2s, 0s;
  visibility: unset;
}
.sidebar-panel.site-overview-wrap {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 10px;
  justify-content: flex-start;
}
@keyframes deactivate-sidebar-panel {
  from {
    height: var(--inactive-panel-height, 0);
  }
  to {
    height: var(--active-panel-height, 0);
  }
}
@keyframes activate-sidebar-panel {
  from {
    height: var(--inactive-panel-height, auto);
  }
  to {
    height: var(--active-panel-height, auto);
  }
}
.post-toc {
  font-size: 0.875em;
}
.post-toc ol {
  list-style: none;
  margin: 0;
  padding: 0 2px 0 10px;
  text-align: left;
}
.post-toc ol > :last-child {
  margin-bottom: 5px;
}
.post-toc ol > ol {
  padding-left: 0;
}
.post-toc ol a {
  transition: all 0.2s ease-in-out;
}
.post-toc .nav-item {
  line-height: 1.8;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.post-toc .nav .nav-child {
  --height: 0;
  height: 0;
  opacity: 0;
  overflow: hidden;
  transition-property: height, opacity, visibility;
  transition: 0.2s ease-in-out;
  visibility: hidden;
}
.post-toc .nav .active > .nav-child {
  height: var(--height, auto);
  opacity: 1;
  visibility: unset;
}
.post-toc .nav .active > a {
  border-bottom-color: #fc6423;
  color: #fc6423;
}
.post-toc .nav .active-current > a {
  color: #fc6423;
}
.post-toc .nav .active-current > a:hover {
  color: #fc6423;
}
.site-author-image {
  border: 1px solid #eee;
  max-width: 120px;
  padding: 2px;
}
.site-author-name {
  color: var(--text-color);
  font-weight: 600;
  margin: 0;
}
.site-description {
  color: #999;
  font-size: 0.8125em;
  margin-top: 0;
}
.site-state {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  line-height: 1.4;
}
.site-state-item {
  padding: 0 15px;
}
.site-state-item a {
  border-bottom: 0;
  display: block;
}
.site-state-item-count {
  display: block;
  font-size: 1em;
  font-weight: 600;
}
.site-state-item-name {
  color: #999;
  font-size: 0.8125em;
}
.sidebar .sidebar-button:not(:first-child) {
  margin-top: 15px;
}
.sidebar .sidebar-button button {
  background: transparent;
  color: #fc6423;
  cursor: pointer;
  line-height: 2;
  padding: 0 15px;
  border: 1px solid #fc6423;
  border-radius: 4px;
}
.sidebar .sidebar-button button:hover {
  background: #fc6423;
  color: #fff;
}
.sidebar .sidebar-button button i[class^='fa'] {
  margin-right: 5px;
}
.links-of-author a {
  font-size: 0.8125em;
}
.links-of-author i[class^='fa'] {
  margin-right: 2px;
}
.cc-license .cc-opacity {
  border-bottom: 0;
  opacity: 0.7;
}
.cc-license .cc-opacity:hover {
  opacity: 0.9;
}
.cc-license img {
  display: inline-block;
}
.links-of-blogroll {
  font-size: 0.8125em;
}
.links-of-blogroll-title {
  font-size: 0.875em;
  font-weight: 600;
}
.links-of-blogroll-list {
  list-style: none;
  gap: 5px;
  margin: 5px 0 0;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  flex-direction: column;
}
.links-of-blogroll-item {
  max-width: calc(100% - 20px);
}
.links-of-blogroll-item a {
  box-sizing: border-box;
  display: inline-block;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.footer {
  color: #999;
  font-size: 0.875em;
  padding: 20px 0;
  transition: 0.2s ease-in-out;
  transition-property: left, right;
}
.footer.footer-fixed {
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
}
.footer-inner {
  box-sizing: border-box;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin: 0 auto;
  width: calc(100% - 20px);
}
@media (max-width: 767px) {
  .footer-inner {
    width: auto;
  }
}
@media (min-width: 1200px) {
  .footer-inner {
    width: 1160px;
  }
}
@media (min-width: 1600px) {
  .footer-inner {
    width: 73%;
  }
}
.use-motion .footer {
  opacity: 0;
}
.languages {
  display: inline-block;
  font-size: 1.125em;
  position: relative;
}
.languages .lang-select-label span {
  margin: 0 0.5em;
}
.languages .lang-select {
  height: 100%;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  width: 100%;
}
.with-love {
  color: ##0000ff;
  display: inline-block;
  margin: 0 5px;
}
@keyframes icon-animate {
  0%, 100% {
    transform: scale(1);
  }
  10%, 30% {
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    transform: scale(1.1);
  }
  50%, 70% {
    transform: scale(1.1);
  }
}
.back-to-top {
  font-size: 12px;
  align-items: center;
  bottom: -100px;
  color: #fff;
  display: flex;
  height: 26px;
  transition: 0.2s ease-in-out;
  transition-property: bottom;
  background: #222;
  cursor: pointer;
  opacity: 0.6;
  position: fixed;
  z-index: 30;
  left: 30px;
}
.back-to-top span {
  margin-right: 8px;
  display: none;
}
.back-to-top .fa {
  text-align: center;
  width: 26px;
}
@media (max-width: 991px) {
  .back-to-top {
    left: 20px;
  }
}
.back-to-top:hover {
  opacity: 0.8;
}
@media (max-width: 991px) {
  .back-to-top {
    opacity: 0.8;
  }
}
.back-to-top:hover {
  color: #fc6423;
}
.back-to-top.back-to-top-on {
  bottom: 30px;
}
.reading-progress-bar {
  --progress: 0;
  background: #37c6c0;
  height: 3px;
  position: fixed;
  z-index: 50;
  width: var(--progress);
  left: 0;
  bottom: 0;
}
.rtl.post-body p,
.rtl.post-body a,
.rtl.post-body h1,
.rtl.post-body h2,
.rtl.post-body h3,
.rtl.post-body h4,
.rtl.post-body h5,
.rtl.post-body h6,
.rtl.post-body li,
.rtl.post-body ul,
.rtl.post-body ol {
  direction: rtl;
  font-family: UKIJ Ekran;
}
.rtl.post-title {
  font-family: UKIJ Ekran;
}
.post-button {
  margin-top: 40px;
  text-align: center;
}
.use-motion .post-block,
.use-motion .pagination,
.use-motion .comments {
  visibility: hidden;
}
.use-motion .post-header {
  visibility: hidden;
}
.use-motion .post-body {
  visibility: hidden;
}
.use-motion .collection-header {
  visibility: hidden;
}
.posts-collapse .post-content {
  margin-bottom: 35px;
  margin-left: 35px;
  position: relative;
}
@media (max-width: 767px) {
  .posts-collapse .post-content {
    margin-left: 0;
    margin-right: 0;
  }
}
.posts-collapse .post-content .collection-title {
  font-size: 1.125em;
  position: relative;
}
.posts-collapse .post-content .collection-title::before {
  background: #999;
  border: 1px solid #fff;
  margin-left: -6px;
  margin-top: -4px;
  position: absolute;
  top: 50%;
  border-radius: 50%;
  content: ' ';
  height: 10px;
  width: 10px;
}
.posts-collapse .post-content .collection-year {
  font-size: 1.5em;
  font-weight: bold;
  margin: 60px 0;
  position: relative;
}
.posts-collapse .post-content .collection-year .collection-year-count {
  font-size: 0.75em;
  background: #ccc;
  border-radius: 10px;
  color: var(--content-bg-color);
  font-weight: bold;
  line-height: 1;
  margin-left: 0.35em;
  padding: 2px 5px;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
}
.posts-collapse .post-content .collection-year::before {
  background: #bbb;
  margin-left: -4px;
  margin-top: -4px;
  position: absolute;
  top: 50%;
  border-radius: 50%;
  content: ' ';
  height: 8px;
  width: 8px;
}
.posts-collapse .post-content .collection-header {
  display: block;
  margin-left: 20px;
}
.posts-collapse .post-content .collection-header small {
  color: #bbb;
  margin-left: 5px;
}
.posts-collapse .post-content .post-header {
  border-bottom: 1px dashed #ccc;
  margin: 30px 2px 0;
  padding-left: 15px;
  position: relative;
  transition: border 0.2s ease-in-out;
}
.posts-collapse .post-content .post-header::before {
  background: #bbb;
  border: 1px solid #fff;
  left: -6px;
  position: absolute;
  top: 0.75em;
  transition: background 0.2s ease-in-out;
  border-radius: 50%;
  content: ' ';
  height: 6px;
  width: 6px;
}
.posts-collapse .post-content .post-header:hover {
  border-bottom-color: #666;
}
.posts-collapse .post-content .post-header:hover::before {
  background: #222;
}
.posts-collapse .post-content .post-meta-container {
  display: inline;
  font-size: 0.75em;
  margin-right: 10px;
}
.posts-collapse .post-content .post-title {
  display: inline;
}
.posts-collapse .post-content .post-title a {
  border-bottom: 0;
  color: var(--link-color);
}
.posts-collapse .post-content .post-title .fa {
  font-size: 0.875em;
  margin-left: 5px;
}
.posts-collapse .post-content::before {
  background: #f5f5f5;
  content: ' ';
  height: 100%;
  margin-left: -2px;
  position: absolute;
  top: 1.25em;
  width: 4px;
}
.post-body {
  font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;
  overflow-wrap: break-word;
}
@media (min-width: 1200px) {
  .post-body {
    font-size: 1.125em;
  }
}
@media (min-width: 992px) {
  .post-body {
    text-align: justify;
  }
}
@media (max-width: 991px) {
  .post-body {
    text-align: justify;
  }
}
.post-body h1 .header-anchor,
.post-body h2 .header-anchor,
.post-body h3 .header-anchor,
.post-body h4 .header-anchor,
.post-body h5 .header-anchor,
.post-body h6 .header-anchor,
.post-body h1 .headerlink,
.post-body h2 .headerlink,
.post-body h3 .headerlink,
.post-body h4 .headerlink,
.post-body h5 .headerlink,
.post-body h6 .headerlink {
  border-bottom-style: none;
  color: inherit;
  float: right;
  font-size: 0.875em;
  margin-left: 10px;
  opacity: 0;
}
.post-body h1 .header-anchor::before,
.post-body h2 .header-anchor::before,
.post-body h3 .header-anchor::before,
.post-body h4 .header-anchor::before,
.post-body h5 .header-anchor::before,
.post-body h6 .header-anchor::before,
.post-body h1 .headerlink::before,
.post-body h2 .headerlink::before,
.post-body h3 .headerlink::before,
.post-body h4 .headerlink::before,
.post-body h5 .headerlink::before,
.post-body h6 .headerlink::before {
  content: '\f0c1';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
}
.post-body h1:hover .header-anchor,
.post-body h2:hover .header-anchor,
.post-body h3:hover .header-anchor,
.post-body h4:hover .header-anchor,
.post-body h5:hover .header-anchor,
.post-body h6:hover .header-anchor,
.post-body h1:hover .headerlink,
.post-body h2:hover .headerlink,
.post-body h3:hover .headerlink,
.post-body h4:hover .headerlink,
.post-body h5:hover .headerlink,
.post-body h6:hover .headerlink {
  opacity: 0.5;
}
.post-body h1:hover .header-anchor:hover,
.post-body h2:hover .header-anchor:hover,
.post-body h3:hover .header-anchor:hover,
.post-body h4:hover .header-anchor:hover,
.post-body h5:hover .header-anchor:hover,
.post-body h6:hover .header-anchor:hover,
.post-body h1:hover .headerlink:hover,
.post-body h2:hover .headerlink:hover,
.post-body h3:hover .headerlink:hover,
.post-body h4:hover .headerlink:hover,
.post-body h5:hover .headerlink:hover,
.post-body h6:hover .headerlink:hover {
  opacity: 1;
}
.post-body .exturl .fa {
  font-size: 0.875em;
  margin-left: 4px;
}
.post-body figure:not(.highlight) figcaption {
  color: #999;
  font-size: 0.875em;
  font-weight: bold;
  line-height: 1;
  margin: -15px auto 15px;
  text-align: center;
}
.post-body iframe,
.post-body img,
.post-body video,
.post-body embed {
  margin-bottom: 20px;
}
.post-body .video-container {
  height: 0;
  margin-bottom: 20px;
  overflow: hidden;
  padding-top: 75%;
  position: relative;
  width: 100%;
}
.post-body .video-container iframe,
.post-body .video-container object,
.post-body .video-container embed {
  height: 100%;
  left: 0;
  margin: 0;
  position: absolute;
  top: 0;
  width: 100%;
}
.post-gallery {
  display: flex;
  min-height: 200px;
}
.post-gallery .post-gallery-image {
  flex: 1;
}
.post-gallery .post-gallery-image:not(:first-child) {
  clip-path: polygon(40px 0, 100% 0, 100% 100%, 0 100%);
  margin-left: -20px;
}
.post-gallery .post-gallery-image:not(:last-child) {
  margin-right: -20px;
}
.post-gallery .post-gallery-image img {
  height: 100%;
  object-fit: cover;
  opacity: 1;
  width: 100%;
}
.posts-expand .post-gallery {
  margin-bottom: 60px;
}
.posts-collapse .post-gallery {
  margin: 15px 0;
}
.posts-expand .post-header {
  font-size: 1.125em;
  margin-bottom: 60px;
  text-align: center;
}
.posts-expand .post-title {
  font-size: 1.5em;
  font-weight: normal;
  margin: initial;
  overflow-wrap: break-word;
}
.posts-expand .post-title-link {
  border-bottom: 0;
  color: var(--link-color);
  display: inline-block;
  position: relative;
}
.posts-expand .post-title-link::before {
  background: var(--link-color);
  bottom: 0;
  content: '';
  height: 2px;
  left: 0;
  position: absolute;
  transform: scaleX(0);
  transition: transform 0.2s ease-in-out;
  width: 100%;
}
.posts-expand .post-title-link:hover::before {
  transform: scaleX(1);
}
.posts-expand .post-title-link .fa {
  font-size: 0.875em;
  margin-left: 5px;
}
.post-sticky-flag {
  display: inline-block;
  margin-right: 8px;
  transform: rotate(30deg);
}
.posts-expand .post-meta-container {
  color: #999;
  font-family: Lato, 'PingFang SC', 'Microsoft YaHei', sans-serif;
  font-size: 0.75em;
  margin-top: 3px;
}
.posts-expand .post-meta-container .post-description {
  font-size: 0.875em;
  margin-top: 2px;
}
.posts-expand .post-meta-container time {
  border-bottom: 1px dashed #999;
}
.post-meta {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}
:not(.post-meta-break) + .post-meta-item::before {
  content: '|';
  margin: 0 0.5em;
}
.post-meta-item-icon {
  margin-right: 3px;
}
@media (max-width: 991px) {
  .post-meta-item-text {
    display: none;
  }
}
.post-meta-break {
  flex-basis: 100%;
  height: 0;
}
.post-nav {
  border-top: 1px solid #eee;
  display: flex;
  gap: 30px;
  justify-content: space-between;
  margin-top: 1em;
  padding: 10px 5px 0;
}
.post-nav-item {
  flex: 1;
}
.post-nav-item a {
  border-bottom: 0;
  display: block;
  font-size: 0.875em;
  line-height: 1.6;
}
.post-nav-item a:active {
  top: 2px;
}
.post-nav-item .fa {
  font-size: 0.75em;
}
.post-nav-item:first-child .fa {
  margin-right: 5px;
}
.post-nav-item:last-child {
  text-align: right;
}
.post-nav-item:last-child .fa {
  margin-left: 5px;
}
.post-footer {
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.post-eof {
  background: #ccc;
  height: 1px;
  margin: 80px auto 60px;
  width: 8%;
}
.post-block:last-of-type .post-eof {
  display: none;
}
.post-tags {
  margin-top: 40px;
  text-align: center;
}
.post-tags a {
  display: inline-block;
  font-size: 0.8125em;
}
.post-tags a:not(:last-child) {
  margin-right: 10px;
}
.social-like {
  border-top: 1px solid #eee;
  font-size: 0.875em;
  margin-top: 1em;
  padding-top: 1em;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}
.social-like a {
  border-bottom: none;
}
.reward-container {
  margin: 1em 0 0;
  padding: 1em 0;
  text-align: center;
}
.reward-container button {
  background: transparent;
  color: #fc6423;
  cursor: pointer;
  line-height: 2;
  padding: 0 15px;
  border: 2px solid #fc6423;
  border-radius: 2px;
  outline: 0;
  vertical-align: text-top;
}
.reward-container button:hover {
  background: #fc6423;
  color: #fff;
}
.post-reward {
  display: none;
  padding-top: 20px;
}
.post-reward.active {
  display: block;
}
.post-reward div {
  display: inline-block;
}
.post-reward div span {
  display: block;
}
.post-reward img {
  display: inline-block;
  margin: 0.8em 2em 0;
  max-width: 100%;
  width: 180px;
}
@keyframes next-roll {
  from {
    transform: rotateZ(30deg);
  }
  to {
    transform: rotateZ(-30deg);
  }
}
.category-all-page .category-all-title {
  text-align: center;
}
.category-all-page .category-all {
  margin-top: 20px;
}
.category-all-page .category-list {
  list-style: none;
  margin: 0;
  padding: 0;
}
.category-all-page .category-list-item {
  margin: 5px 10px;
}
.category-all-page .category-list-count {
  font-size: 0.75em;
  background: #ccc;
  border-radius: 10px;
  color: var(--content-bg-color);
  font-weight: bold;
  line-height: 1;
  margin-left: 0.35em;
  padding: 2px 5px;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
}
.category-all-page .category-list-child {
  padding-left: 10px;
}
.event-list hr {
  background: #222;
  margin: 20px 0 45px;
}
.event-list hr::after {
  background: #222;
  color: #fff;
  content: 'NOW';
  display: inline-block;
  font-weight: bold;
  padding: 0 5px;
}
.event-list .event {
  --event-background: #222;
  --event-foreground: #bbb;
  --event-title: #fff;
  background: var(--event-background);
  padding: 15px;
}
.event-list .event .event-summary {
  border-bottom: 0;
  color: var(--event-title);
  margin: 0;
  padding: 0 0 0 35px;
  position: relative;
}
.event-list .event .event-summary::before {
  animation: dot-flash 1s alternate infinite ease-in-out;
  background: var(--event-title);
  left: 0;
  margin-top: -6px;
  position: absolute;
  top: 50%;
  border-radius: 50%;
  content: ' ';
  height: 12px;
  width: 12px;
}
.event-list .event:nth-of-type(odd) .event-summary::before {
  animation-delay: 0.5s;
}
.event-list .event:not(:last-child) {
  margin-bottom: 20px;
}
.event-list .event .event-relative-time {
  color: var(--event-foreground);
  display: inline-block;
  font-size: 12px;
  font-weight: normal;
  padding-left: 12px;
}
.event-list .event .event-details {
  color: var(--event-foreground);
  display: block;
  line-height: 18px;
  padding: 6px 0 6px 35px;
}
.event-list .event .event-details::before {
  color: var(--event-foreground);
  display: inline-block;
  margin-right: 9px;
  width: 14px;
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
}
.event-list .event .event-details.event-location::before {
  content: '\f041';
}
.event-list .event .event-details.event-duration::before {
  content: '\f017';
}
.event-list .event .event-details.event-description::before {
  content: '\f024';
}
.event-list .event-past {
  --event-background: #f5f5f5;
  --event-foreground: #999;
  --event-title: #222;
}
@keyframes dot-flash {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}
ul.breadcrumb {
  font-size: 0.75em;
  list-style: none;
  margin: 1em 0;
  padding: 0 2em;
  text-align: center;
}
ul.breadcrumb li {
  display: inline;
}
ul.breadcrumb li:not(:first-child)::before {
  content: '/\00a0';
  font-weight: normal;
  padding: 0.5em;
}
ul.breadcrumb li:last-child {
  font-weight: bold;
}
.tag-cloud {
  text-align: center;
}
.tag-cloud a {
  display: inline-block;
  margin: 10px;
}
.tag-cloud-0 {
  border-bottom-color: #aaa;
  color: #aaa;
}
.tag-cloud-1 {
  border-bottom-color: #9a9a9a;
  color: #9a9a9a;
}
.tag-cloud-2 {
  border-bottom-color: #8b8b8b;
  color: #8b8b8b;
}
.tag-cloud-3 {
  border-bottom-color: #7c7c7c;
  color: #7c7c7c;
}
.tag-cloud-4 {
  border-bottom-color: #6c6c6c;
  color: #6c6c6c;
}
.tag-cloud-5 {
  border-bottom-color: #5d5d5d;
  color: #5d5d5d;
}
.tag-cloud-6 {
  border-bottom-color: #4e4e4e;
  color: #4e4e4e;
}
.tag-cloud-7 {
  border-bottom-color: #3e3e3e;
  color: #3e3e3e;
}
.tag-cloud-8 {
  border-bottom-color: #2f2f2f;
  color: #2f2f2f;
}
.tag-cloud-9 {
  border-bottom-color: #202020;
  color: #202020;
}
.tag-cloud-10 {
  border-bottom-color: #111;
  color: #111;
}
.search-active {
  overflow: hidden;
}
.search-pop-overlay {
  background: rgba(0,0,0,0);
  display: flex;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  transition: visibility 0.4s, background 0.4s;
  visibility: hidden;
  width: 100%;
  z-index: 40;
}
.search-active .search-pop-overlay {
  background: rgba(0,0,0,0.3);
  visibility: visible;
}
.search-popup {
  background: var(--card-bg-color);
  border-radius: 5px;
  height: 80%;
  margin: auto;
  transform: scale(0);
  transition: transform 0.4s;
  width: 700px;
}
.search-active .search-popup {
  transform: scale(1);
}
@media (max-width: 767px) {
  .search-popup {
    border-radius: 0;
    height: 100%;
    width: 100%;
  }
}
.search-popup .search-icon,
.search-popup .popup-btn-close {
  color: #999;
  font-size: 18px;
  padding: 0 10px;
}
.search-popup .popup-btn-close {
  cursor: pointer;
}
.search-popup .popup-btn-close:hover .fa {
  color: #222;
}
.search-popup .search-header {
  background: #eee;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  display: flex;
  padding: 5px;
}
.search-popup input.search-input {
  background: transparent;
  border: 0;
  outline: 0;
  width: 100%;
}
.search-popup input.search-input::-webkit-search-cancel-button {
  display: none;
}
.search-popup .search-result-container {
  display: flex;
  flex-direction: column;
  height: calc(100% - 55px);
  overflow: auto;
  padding: 5px 25px;
}
.search-popup .search-result-container hr {
  flex-shrink: 0;
  margin: 5px 0 10px;
}
.search-popup .search-result-container hr:first-child {
  display: none;
}
.search-popup .search-result-list {
  margin: 0 5px;
  padding: 0;
}
.search-popup a.search-result-title {
  font-weight: bold;
}
.search-popup p.search-result {
  border-bottom: 1px dashed #ccc;
  padding: 5px 0;
}
.search-popup .search-input-container {
  flex-grow: 1;
  padding: 2px;
}
.search-popup .search-result-icon {
  color: #ccc;
  margin: auto;
}
mark.search-keyword {
  background: transparent;
  border-bottom: 1px dashed #ff2a2a;
  color: #ff2a2a;
  font-weight: bold;
}
.use-motion .animated {
  animation-fill-mode: none;
  visibility: inherit;
}
.use-motion .sidebar .animated {
  animation-fill-mode: both;
}
header.header {
  background: var(--content-bg-color);
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
}
@media (max-width: 991px) {
  header.header {
    border-radius: initial;
  }
}
.main {
  align-items: stretch;
  display: flex;
  justify-content: space-between;
  margin: 0 auto;
  width: calc(100% - 20px);
}
@media (max-width: 767px) {
  .main {
    width: auto;
  }
}
@media (min-width: 1200px) {
  .main {
    width: 1160px;
  }
}
@media (min-width: 1600px) {
  .main {
    width: 73%;
  }
}
@media (max-width: 991px) {
  .main {
    display: block;
    width: auto;
  }
}
.main-inner {
  border-radius: initial;
  box-sizing: border-box;
  width: calc(100% - 252px);
}
@media (max-width: 991px) {
  .main-inner {
    border-radius: initial;
    width: 100%;
  }
}
.footer-inner {
  padding-left: 252px;
}
@media (max-width: 991px) {
  .footer-inner {
    padding-left: 0;
    padding-right: 0;
    width: auto;
  }
}
.column {
  width: 240px;
}
@media (max-width: 991px) {
  .column {
    width: auto;
  }
}
.site-brand-container {
  background: var(--theme-color);
}
@media (max-width: 991px) {
  .site-nav-on .site-brand-container {
    box-shadow: 0 0 16px rgba(0,0,0,0.5);
  }
}
.site-meta {
  padding: 20px 0;
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav-toggle,
  .site-nav-right {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
}
.site-nav-toggle .toggle,
.site-nav-right .toggle {
  color: #fff;
}
.site-nav-toggle .toggle .toggle-line,
.site-nav-right .toggle .toggle-line {
  background: #fff;
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav {
    --scroll-height: 0;
    height: 0;
    overflow: hidden;
    transition: 0.2s ease-in-out;
    transition-property: height, visibility;
    visibility: hidden;
  }
  body:not(.site-nav-on) .site-nav .animated {
    animation: none;
  }
  body.site-nav-on .site-nav {
    height: var(--scroll-height);
    visibility: unset;
  }
}
.menu .menu-item {
  display: block;
  margin: 0;
}
.menu .menu-item a {
  padding: 5px 20px;
  position: relative;
  transition-property: background-color;
  display: flex;
  align-items: center;
}
.menu .menu-item a .badge {
  margin-left: auto;
}
@media (max-width: 991px) {
  .menu .menu-item.menu-item-search {
    display: none;
  }
}
.main-menu .menu-item-active::after {
  background: #bbb;
  border-radius: 50%;
  content: ' ';
  height: 6px;
  margin-top: -3px;
  position: absolute;
  right: 15px;
  top: 50%;
  width: 6px;
}
.sub-menu {
  margin: 0;
  padding: 6px 0;
}
.sub-menu .menu-item {
  display: inline-block;
}
.sub-menu .menu-item a {
  background: transparent;
  margin: 5px 10px;
  padding: initial;
}
.sub-menu .menu-item a:hover {
  background: transparent;
  color: #fc6423;
}
.sub-menu .menu-item-active {
  border-bottom-color: #fc6423;
  color: #fc6423;
}
.sub-menu .menu-item-active:hover {
  border-bottom-color: #fc6423;
}
@media (min-width: 992px) {
  .sidebar {
    position: sticky;
    top: 12px;
  }
  .sidebar-toggle {
    display: none;
  }
  .sidebar-inner {
    background: var(--content-bg-color);
    border-radius: initial;
    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
    box-sizing: border-box;
    color: var(--text-color);
    margin-top: 12px;
    max-height: calc(100vh - 24px);
  }
  .site-state-item {
    padding: 0 10px;
  }
  .sidebar .sidebar-button {
    border-bottom: 1px dotted #ccc;
    border-top: 1px dotted #ccc;
  }
  .sidebar .sidebar-button button {
    border: 0;
    color: #fc6423;
    display: block;
    width: 100%;
  }
  .sidebar .sidebar-button button:hover {
    background: none;
    border: 0;
    color: #e34603;
  }
  .links-of-author {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }
  .links-of-author-item {
    margin: 5px 0 0;
    width: 50%;
  }
  .links-of-author-item a {
    border-bottom: 0;
    border-radius: 4px;
    display: block;
    padding: 0 5px;
    box-sizing: border-box;
    display: inline-block;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .links-of-author-item a:hover {
    background: var(--body-bg-color);
  }
  .links-of-blogroll-item a {
    padding: 0 5px;
  }
}
.main-inner .sub-menu,
.main-inner .post-block,
.main-inner .tabs-comment,
.main-inner > .comments,
.main-inner .comment-position .comments,
.main-inner .pagination {
  background: var(--content-bg-color);
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
}
.main-inner .post-block:not(:first-child):not(:first-child) {
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  margin-top: 12px;
}
@media (min-width: 768px) and (max-width: 991px) {
  .main-inner .post-block:not(:first-child):not(:first-child) {
    margin-top: 10px;
  }
}
@media (max-width: 767px) {
  .main-inner .post-block:not(:first-child):not(:first-child) {
    margin-top: 8px;
  }
}
.main-inner .tabs-comment,
.main-inner > .comments,
.main-inner .comment-position .comments,
.main-inner .pagination {
  border-radius: initial;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  margin-top: 12px;
}
@media (min-width: 768px) and (max-width: 991px) {
  .main-inner .tabs-comment,
  .main-inner > .comments,
  .main-inner .comment-position .comments,
  .main-inner .pagination {
    margin-top: 10px;
  }
}
@media (max-width: 767px) {
  .main-inner .tabs-comment,
  .main-inner > .comments,
  .main-inner .comment-position .comments,
  .main-inner .pagination {
    margin-top: 8px;
  }
}
.post-block,
.comments {
  padding: 40px;
}
.post-eof {
  display: none;
}
.pagination {
  border-top: initial;
  padding: 10px 0;
}
.post-body h1,
.post-body h2 {
  border-bottom: 1px solid #eee;
}
.post-body h3 {
  border-bottom: 1px dotted #eee;
}
@media (min-width: 768px) and (max-width: 991px) {
  .main-inner {
    padding: 10px;
  }
  .posts-expand .post-button {
    margin-top: 20px;
  }
  .post-block {
    padding: 20px;
  }
  .comments {
    padding: 10px 20px;
  }
}
@media (max-width: 767px) {
  .main-inner {
    padding: 8px;
  }
  .posts-expand .post-button {
    margin: 12px 0;
  }
  .post-block {
    padding: 12px;
  }
  .comments {
    padding: 10px 12px;
  }
}
</style><noscript>
    
  </noscript>
<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="Yue Jiao's blog" type="application/atom+xml">
<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"></noscript></head>

<body itemscope="" itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Yue Jiao's blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#intro-to-k8s"><span class="nav-number">1.</span> <span class="nav-text">Intro to K8s</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#what-is-kubernetes"><span class="nav-number">1.1.</span> <span class="nav-text">What is kubernetes?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#official-definition"><span class="nav-number">1.1.1.</span> <span class="nav-text">Official Definition</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#what-are-the-tasks-of-an-orchestration-tool"><span class="nav-number">1.1.2.</span> <span class="nav-text">What are the tasks
of an orchestration tool?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#what-features-do-orchestration-tools-offer"><span class="nav-number">1.1.3.</span> <span class="nav-text">What features do
orchestration tools offer?</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#main-k8s-components"><span class="nav-number">1.2.</span> <span class="nav-text">Main K8s components</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#kubernetes-architecture"><span class="nav-number">1.3.</span> <span class="nav-text">Kubernetes Architecture</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#layers-of-abstraction"><span class="nav-number">1.3.1.</span> <span class="nav-text">Layers of abstraction</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#minikube-and-kubectl---local-setup"><span class="nav-number">1.4.</span> <span class="nav-text">Minikube and Kubectl - Local
setup</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#production-cluster-setup"><span class="nav-number">1.4.1.</span> <span class="nav-text">Production cluster setup</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#minikube"><span class="nav-number">1.4.2.</span> <span class="nav-text">Minikube</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#kubectl"><span class="nav-number">1.4.3.</span> <span class="nav-text">Kubectl</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#main-kubectl-commands---k8s-cli"><span class="nav-number">1.5.</span> <span class="nav-text">Main Kubectl commands - K8s
cli</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#k8s-yaml-configuration-file"><span class="nav-number">1.6.</span> <span class="nav-text">K8s YAML configuration file</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#the-3-parts-of-configuration-file"><span class="nav-number">1.6.1.</span> <span class="nav-text">The 3 parts of configuration
file</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#connecting-deployments-to-service-to-pods"><span class="nav-number">1.6.2.</span> <span class="nav-text">Connecting
deployments to Service to Pods</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#connecting-services-to-deployments"><span class="nav-number">1.6.3.</span> <span class="nav-text">Connecting Services to
Deployments</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#demo"><span class="nav-number">1.6.4.</span> <span class="nav-text">Demo</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#complete-application-setup-with-kubernetes-components"><span class="nav-number">1.7.</span> <span class="nav-text">Complete
Application Setup with Kubernetes Components</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#advanced-concepts"><span class="nav-number">2.</span> <span class="nav-text">Advanced concepts</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#k8s-namespaces---organize-your-components"><span class="nav-number">2.1.</span> <span class="nav-text">K8s namespaces -
organize your components</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#what-is-a-namespace"><span class="nav-number">2.1.1.</span> <span class="nav-text">What is a Namespace?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#create-a-namespace"><span class="nav-number">2.1.2.</span> <span class="nav-text">Create a Namespace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#what-are-the-use-cases"><span class="nav-number">2.1.3.</span> <span class="nav-text">What are the use cases?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#characteristics-of-namespaces"><span class="nav-number">2.1.4.</span> <span class="nav-text">Characteristics of
namespaces</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#how-namespaces-work-and-how-to-use-it"><span class="nav-number">2.1.5.</span> <span class="nav-text">How Namespaces work and
how to use it?</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#k8s-ingress"><span class="nav-number">2.2.</span> <span class="nav-text">K8s Ingress</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#what-is-ingress"><span class="nav-number">2.2.1.</span> <span class="nav-text">What is Ingress?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#how-to-configure-ingress-in-your-k8s-cluster"><span class="nav-number">2.2.2.</span> <span class="nav-text">How to configure
Ingress in your K8s cluster?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#some-use-cases"><span class="nav-number">2.2.3.</span> <span class="nav-text">Some use cases</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#helm---package-manager"><span class="nav-number">2.3.</span> <span class="nav-text">Helm - Package manager</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#what-is-helm"><span class="nav-number">2.3.1.</span> <span class="nav-text">What is Helm?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#what-are-helm-charts"><span class="nav-number">2.3.2.</span> <span class="nav-text">What are Helm charts?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#helm-chart-strucutre"><span class="nav-number">2.3.3.</span> <span class="nav-text">Helm chart strucutre</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#what-is-tiller"><span class="nav-number">2.3.4.</span> <span class="nav-text">What is Tiller?</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#volumnes---persisting-data-in-k8s"><span class="nav-number">2.4.</span> <span class="nav-text">Volumnes - Persisting data in
K8s</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#storage-requirement"><span class="nav-number">2.4.1.</span> <span class="nav-text">Storage requirement</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#how-to-persist-data-in-kubernetes-using-volumes"><span class="nav-number">2.4.2.</span> <span class="nav-text">How to persist
data in Kubernetes using volumes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#who-creates-the-persistent-volumes-and-when"><span class="nav-number">2.4.3.</span> <span class="nav-text">Who creates the
Persistent Volumes and when?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#storage-class"><span class="nav-number">2.4.4.</span> <span class="nav-text">Storage class</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#k8s-statefulset---deploying-stateful-apps"><span class="nav-number">2.5.</span> <span class="nav-text">K8s StatefulSet -
Deploying stateful apps</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#statefulset-for-stateful-applications"><span class="nav-number">2.5.1.</span> <span class="nav-text">StatefulSet for stateful
applications</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#deployment-of-stateful-and-stateless-applications"><span class="nav-number">2.5.2.</span> <span class="nav-text">Deployment of
stateful and stateless applications</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#k8s-services"><span class="nav-number">2.6.</span> <span class="nav-text">K8s Services</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#what-is-a-service-and-when-we-need-it"><span class="nav-number">2.6.1.</span> <span class="nav-text">What is a Service and
when we need it?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#clusterip-services"><span class="nav-number">2.6.2.</span> <span class="nav-text">ClusterIP Services</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#service-type-attributes"><span class="nav-number">2.6.3.</span> <span class="nav-text">3 Service type attributes</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yue Jiao</p>
  <div class="site-description" itemprop="description">Personal blog for idea sharing and archiving.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">39</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope="" itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.yj0.se/2022/intro_kubernetes/">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yue Jiao">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yue Jiao's blog">
      <meta itemprop="description" content="Personal blog for idea sharing and archiving.">
    </span>

    <span hidden="" itemprop="post" itemscope="" itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Kubernetes Tutorial for Beginners | Yue Jiao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Kubernetes Tutorial for Beginners
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-01-10 00:00:00" itemprop="dateCreated datePublished" datetime="2022-01-10T00:00:00+01:00">2022-01-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-29 03:00:41" itemprop="dateModified" datetime="2022-07-29T03:00:41+02:00">2022-07-29</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>23k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time </span>
      <span>21 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>Kubernetes is a widely used open-source container orchestration
system. This tutorial shows the basics of Kubernetes for beginners.</p>
<span id="more"></span>
<h2 id="intro-to-k8s">Intro to K8s</h2>
<h3 id="what-is-kubernetes">What is kubernetes?</h3>
<h4 id="official-definition">Official Definition</h4>
<ul>
<li>Open source container orchestration tool</li>
<li>Developed by Google</li>
<li>Helps you manage containerized applications in difference deployment
environments
<ul>
<li>Physical</li>
<li>Virtual</li>
<li>Cloud</li>
</ul></li>
</ul>
<h4 id="what-are-the-tasks-of-an-orchestration-tool">What are the tasks
of an orchestration tool?</h4>
<ul>
<li>Trend from monolith to microservices</li>
<li>Increased usage of containers</li>
<li>Demand for a proper way of managing those hundreds of
containers</li>
</ul>
<h4 id="what-features-do-orchestration-tools-offer">What features do
orchestration tools offer?</h4>
<ul>
<li>High availability or no downtime</li>
<li>Scalability or high performance</li>
<li>Disaster recovery - backup and restore</li>
</ul>
<h3 id="main-k8s-components">Main K8s components</h3>
<ul>
<li><p>Pod</p>
<ul>
<li>Smallest unit of K8s</li>
<li>Abstraction over container</li>
<li>Usually 1 application per Pod</li>
<li>Each Pod gets its own IP address</li>
<li>New IP address on re-creation</li>
</ul></li>
<li><p>Service</p>
<ul>
<li>Permanent IP address</li>
<li>Life-cycle of Pod and Service NOT connected</li>
<li>Service is also a load balancer</li>
</ul></li>
<li><p>Ingress</p>
<ul>
<li>Outside communicates with Service via Ingress</li>
</ul></li>
<li><p>ConfigMap</p>
<ul>
<li><p>External configuration of your application</p></li>
<li><p>Don't put credentials into ConfigMap</p></li>
</ul></li>
<li><p>Secret</p>
<ul>
<li>Used to store secret data</li>
<li><code>base64</code> encoded</li>
<li>The built-in security mechanism is not enabled by default</li>
</ul></li>
<li><p>Volumes</p>
<ul>
<li>K8s doesn't manage data persistence</li>
<li>Storage on local machine</li>
<li>Or storage remote, outside of the K8s cluster</li>
</ul></li>
<li><p>Deployment</p>
<ul>
<li>Blueprint for pods</li>
<li>Abstraction of Pods</li>
<li>You create Deployments for stateless apps</li>
<li>Convenient to duplicate Pods</li>
</ul></li>
<li><p>StatefulSet</p>
<ul>
<li>For STATEFUL apps or Databases</li>
<li>Deploying StatefulSet not easy</li>
<li>DB are often hosted outside of K8s cluster</li>
</ul></li>
</ul>
<h3 id="kubernetes-architecture">Kubernetes Architecture</h3>
<ul>
<li><p>Worker machine in K8s cluster</p>
<ul>
<li>Each Node has multiple Pods on it</li>
<li>3 processes must be installed on every Node
<ul>
<li>Container runtime</li>
<li>Kubelet
<ul>
<li>Kubelet interacts with both the container and node</li>
<li>Kubelet starts the pod with a container inside</li>
<li>Kobe proxy</li>
</ul></li>
</ul></li>
<li>Worker Nodes do the actual work
<ul>
<li>How do you interact with this cluster?
<ul>
<li>How to:
<ul>
<li>Schedule pod?</li>
<li>Monitor?</li>
<li>Re-schedule / restart pod?</li>
<li>Join a new node?</li>
</ul></li>
<li>Master node</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Master node</p>
<ul>
<li>Each master node has 4 processes running
<ul>
<li>Api server
<ul>
<li>Cluster gateway</li>
<li>Acts as a gatekeeper for authentication</li>
<li>Api server is load balanced</li>
</ul></li>
<li>Scheduler
<ul>
<li>Scheduler just decides on which Node new Pod should be
scheduled</li>
</ul></li>
<li>Controller manager
<ul>
<li>Detect cluster state changes</li>
</ul></li>
<li>etcd
<ul>
<li>etcd is the cluster brain</li>
<li>Distributed storage across all clusters</li>
<li>Cluster changes get stored in the key value store</li>
<li>Application data is not stored in etcd</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h4 id="layers-of-abstraction">Layers of abstraction</h4>
<ol type="1">
<li>Deployment manages a ..
<ul>
<li>Everything below Deployment is handled by Kubernetes</li>
</ul></li>
<li>ReplicaSet manages a ..</li>
<li>Pod is an abstraction of ..</li>
<li>Container</li>
</ol>
<h3 id="minikube-and-kubectl---local-setup">Minikube and Kubectl - Local
setup</h3>
<h4 id="production-cluster-setup">Production cluster setup</h4>
<ul>
<li>Multiple Master and Worker nodes</li>
<li>Separate virtual or physical machines
<ul>
<li>Test on local machine with Minikube</li>
</ul></li>
</ul>
<h4 id="minikube">Minikube</h4>
<ul>
<li>Both the Master processes and the Worker processes run on one
Node</li>
<li>Docker pre-installed on this Node</li>
<li>Creates Virtual Box on your laptop</li>
<li>Node runs in that Virtual Box</li>
<li>1 Node K8s cluster</li>
<li>For testing purposes</li>
</ul>
<h4 id="kubectl">Kubectl</h4>
<ul>
<li>Command line tools for Kubernetes cluster</li>
<li>Enables interaction with cluster</li>
</ul>
<h3 id="main-kubectl-commands---k8s-cli">Main Kubectl commands - K8s
cli</h3>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get pod</span></span><br><span class="line">No resources found in default namespace.</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">Kubectl get services</span></span><br><span class="line">NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE</span><br><span class="line">kubernetes   ClusterIP   1.2.3.4      &lt;none&gt;        443/TCP   21m</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl create deployment nginx-depl --image=nginx                                                         deployment.apps/nginx-depl created</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get deployment</span></span><br><span class="line">NAME         READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx-depl   1/1     1            1           25s</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get pod</span></span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-depl-5c8bf76b5b-hc42t   1/1     Running   0          99s</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get replicaset</span></span><br><span class="line">NAME                    DESIRED   CURRENT   READY   AGE</span><br><span class="line">nginx-depl-5c8bf76b5b   1         1         1       2m51s</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl edit deployment nginx-depl</span></span><br><span class="line">... Change version of nginx</span><br><span class="line">deployment.apps/nginx-depl edited</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get pod</span></span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-depl-7fc44fc5d4-fftcf   1/1     Running   0          36s</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get replicaset</span></span><br><span class="line">NAME                    DESIRED   CURRENT   READY   AGE</span><br><span class="line">nginx-depl-5c8bf76b5b   0         0         0       9m25s</span><br><span class="line">nginx-depl-7fc44fc5d4   1         1         1       2m14s</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl create deployment mongo-depl --image=mongo                                                         deployment.apps/mongo-depl created</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get pod                                                                                           NAME                          READY   STATUS              RESTARTS   AGE</span></span><br><span class="line">mongo-depl-5fd6b7d4b4-mnz4f   0/1     ContainerCreating   0          32s</span><br><span class="line">nginx-depl-7fc44fc5d4-fftcf   1/1     Running             0          25m</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl logs mongo-depl-5fd6b7d4b4-mnz4f</span></span><br><span class="line">{"t":{"$date":"2022-01-07T01:57:07.322+00:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl describe pod mongo-depl-5fd6b7d4b4-mnz4f</span></span><br><span class="line">Name:         mongo-depl-5fd6b7d4b4-mnz4f</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl <span class="built_in">exec</span> -it mongo-depl-5fd6b7d4b4-mnz4f -- bin/bash                                                   root@mongo-depl-5fd6b7d4b4-mnz4f:/# <span class="built_in">exit</span></span></span><br><span class="line">exit</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl delete deployment mongo-depl                                                                       deployment.apps <span class="string">"mongo-depl"</span> deleted</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl delete deployment nginx-depl</span> </span><br><span class="line">deployment.apps "nginx-depl" deleted</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f config-file.yaml</span></span><br><span class="line">deployment.apps/nginx-deployment created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f nginx-deployment.yaml</span></span><br><span class="line">deployment.apps/nginx-deployment unchanged</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get deployment nginx-deployment -o yaml</span></span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>
<h3 id="k8s-yaml-configuration-file">K8s YAML configuration file</h3>
<h4 id="the-3-parts-of-configuration-file">The 3 parts of configuration
file</h4>
<ol type="1">
<li>Metadata</li>
<li>Specification
<ul>
<li>Attributes of "spec" are specific to the kind</li>
</ul></li>
<li>Status
<ul>
<li>Automatically generated and added by Kubernetes</li>
<li>To compare with the desired</li>
<li>K8s update the status continuously</li>
</ul></li>
</ol>
<h4 id="connecting-deployments-to-service-to-pods">Connecting
deployments to Service to Pods</h4>
<ul>
<li>Pods get the label through the template blueprint</li>
<li>This label is matched by the selector</li>
</ul>
<h4 id="connecting-services-to-deployments">Connecting Services to
Deployments</h4>
<ul>
<li><p>Services selector makes a connection between the Pod's template
and itself through the label</p></li>
<li><p>Ports in Service and Pod</p></li>
</ul>
<h4 id="demo">Demo</h4>
<ul>
<li><code>nginx-deployment.yaml</code></li>
</ul>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-deployment</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">apps:</span> <span class="string">nginx</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.16</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><code>nginx-service.yaml</code></li>
</ul>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">ports:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8080</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Validate</li>
</ul>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f nginx-deployment.yaml</span></span><br><span class="line">deployment.apps/nginx-deployment created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get pod</span></span><br><span class="line">NAME                                READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-deployment-644599b9c9-pq6lv   1/1     Running   0          38m</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f nginx-service.yaml</span></span><br><span class="line">service/nginx-service created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get service</span></span><br><span class="line">NAME            TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE</span><br><span class="line">kubernetes      ClusterIP   10.96.0.1      &lt;none&gt;        443/TCP   112m</span><br><span class="line">nginx-service   ClusterIP   10.99.193.36   &lt;none&gt;        80/TCP    114s</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl describe service nginx-service</span></span><br><span class="line">Name:              nginx-service</span><br><span class="line">Namespace:         default</span><br><span class="line">Labels:            &lt;none&gt;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl delete -f nginx-deployment.yaml</span></span><br><span class="line">deployment.apps "nginx-deployment" deleted</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl delete -f nginx-service.yaml</span></span><br><span class="line">service "nginx-service" deleted</span><br></pre></td></tr></tbody></table></figure>
<h3 id="complete-application-setup-with-kubernetes-components">Complete
Application Setup with Kubernetes Components</h3>
<ul>
<li><p><code>mongo.yaml</code></p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">mongodb-deployment</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">mongodb</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">mongodb</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">mongodb</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">mongodb</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">mongo</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">27017</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MONGO_INITDB_ROOT_USERNAME</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">secretKeyRef:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">mongodb-secret</span></span><br><span class="line">              <span class="attr">key:</span> <span class="string">mongo-root-username</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MONGO_INITDB_ROOT_PASSWORD</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">secretKeyRef:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">mongodb-secret</span></span><br><span class="line">              <span class="attr">key:</span> <span class="string">mongo-root-password</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p><code>mongo-secret.yaml</code>: for username and password</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">mongodb-secret</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">mongo-root-username:</span> <span class="string">dXNlcm5hbWU=</span></span><br><span class="line">  <span class="attr">mongo-root-password:</span> <span class="string">cGFzc3dvcmQ=</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Creates secret and deployment</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f mongo-secret.yaml</span></span><br><span class="line">secret/mongodb-secret created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get secret</span></span><br><span class="line">NAME                  TYPE                                  DATA   AGE</span><br><span class="line">default-token-7h9vx   kubernetes.io/service-account-token   3      12h</span><br><span class="line">mongodb-secret        Opaque                                2      17m</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f mongo.yaml</span> </span><br><span class="line">deployment.apps/mongodb-deployment created</span><br><span class="line">service/mongodb-service created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get all</span></span><br><span class="line">NAME                                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/mongodb-deployment-8f6675bc5-6bkpq   1/1     Running   0          17m</span><br><span class="line"></span><br><span class="line">NAME                      TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)     AGE</span><br><span class="line">service/kubernetes        ClusterIP   10.96.0.1      &lt;none&gt;        443/TCP     12h</span><br><span class="line">service/mongodb-service   ClusterIP   10.98.250.66   &lt;none&gt;        27017/TCP   57s</span><br><span class="line"></span><br><span class="line">NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps/mongodb-deployment   1/1     1            1           17m</span><br><span class="line"></span><br><span class="line">NAME                                           DESIRED   CURRENT   READY   AGE</span><br><span class="line">replicaset.apps/mongodb-deployment-8f6675bc5   1         1         1       17m</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Add <code>mongo-express</code> deployment and service</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">mongo-express</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">mongo-express</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">mongo-express</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">mongo-express</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">mongo-express</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">mongo-express</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8081</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ME_CONFIG_MONGODB_ADMINUSERNAME</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">secretKeyRef:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">mongodb-secret</span></span><br><span class="line">              <span class="attr">key:</span> <span class="string">mongo-root-username</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ME_CONFIG_MONGODB_ADMINPASSWORD</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">secretKeyRef:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">mongodb-secret</span></span><br><span class="line">              <span class="attr">key:</span> <span class="string">mongo-root-password</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ME_CONFIG_MONGODB_SERVER</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">configMapKeyRef:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">mongodb-configmap</span></span><br><span class="line">              <span class="attr">key:</span> <span class="string">database_url</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">mongo-express-service</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">mongo-express</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8081</span></span><br></pre></td></tr></tbody></table></figure>
<p>And the corresponding ConfigMap</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">mongodb-configmap</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">database_url:</span> <span class="string">mongodb-service</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Then deploy them</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f mongo-configmap.yaml</span> </span><br><span class="line">configmap/mongodb-configmap created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f mongo-express.yaml</span> </span><br><span class="line">deployment.apps/mongo-express created</span><br><span class="line">service/mongo-express-service created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get pod</span></span><br><span class="line">NAME                                 READY   STATUS    RESTARTS   AGE</span><br><span class="line">mongo-express-78fcf796b8-nfrfk       1/1     Running   0          35s</span><br><span class="line">mongodb-deployment-8f6675bc5-6bkpq   1/1     Running   0          97m</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get service</span></span><br><span class="line">NAME                    TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">kubernetes              ClusterIP      10.96.0.1       &lt;none&gt;        443/TCP          14h</span><br><span class="line">mongo-express-service   LoadBalancer   10.97.225.240   &lt;pending&gt;     8081:30000/TCP   25s</span><br><span class="line">mongodb-service         ClusterIP      10.98.250.66    &lt;none&gt;        27017/TCP        103m</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">minikube service mongo-express-service</span></span><br><span class="line">|-----------|-----------------------|-------------|---------------------------|</span><br><span class="line">| NAMESPACE |         NAME          | TARGET PORT |            URL            |</span><br><span class="line">|-----------|-----------------------|-------------|---------------------------|</span><br><span class="line">| default   | mongo-express-service |        8081 | http://192.168.49.2:30000 |</span><br><span class="line">|-----------|-----------------------|-------------|---------------------------|</span><br><span class="line">  Opening service default/mongo-express-service in default browser...</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<h2 id="advanced-concepts">Advanced concepts</h2>
<h3 id="k8s-namespaces---organize-your-components">K8s namespaces -
organize your components</h3>
<h4 id="what-is-a-namespace">What is a Namespace?</h4>
<ul>
<li>Organise resources in namespace</li>
<li>Virtual cluster inside a cluster</li>
<li>4 namespaces per Default
<ul>
<li><code>kubernetes-dashboard</code> only with minikube</li>
<li><code>kube-system</code>
<ul>
<li>Do NOT create or modify in <code>kube-system</code></li>
<li>Contains system processes
<ul>
<li>Master and Kubectl processes</li>
</ul></li>
</ul></li>
<li><code>kube-public</code>
<ul>
<li>Publicly accessible data</li>
<li>A ConfigMap, which contains cluster information</li>
</ul></li>
<li><code>kube-node-lease</code>
<ul>
<li>Heartbeats of nodes</li>
<li>Each node has associated lease object in namespace</li>
<li>Determines the availability of a node</li>
</ul></li>
<li><code>default</code>
<ul>
<li>Resources you create are located here</li>
</ul></li>
</ul></li>
</ul>
<h4 id="create-a-namespace">Create a Namespace</h4>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl create namespace my-namespace</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="what-are-the-use-cases">What are the use cases?</h4>
<ol type="1">
<li><p>Resources grouped in Namespace</p>
<ul>
<li><p>Everything in one namespace only for tiny project</p></li>
<li><p>Officially: Should not use for smaller projects</p></li>
</ul></li>
<li><p>Conflicts: Many teams, same application</p></li>
<li><p>Resource sharing:</p>
<ul>
<li>Staging and development</li>
<li>Blue/green deployment</li>
</ul></li>
<li><p>Access and resource limits on namespace</p>
<ul>
<li>Limit: CPU, RAM, storage per namespace</li>
</ul></li>
</ol>
<h4 id="characteristics-of-namespaces">Characteristics of
namespaces</h4>
<ul>
<li>You can't access most resources from another namespace
<ul>
<li>Each namespace must define own ConfigMap</li>
</ul></li>
<li>You can access Service in another namepsace
<ul>
<li>With namespaces' names in Service's urls</li>
</ul></li>
<li>Components, which can't be created within a namespace
<ul>
<li>Live globally in a cluster</li>
<li>You can't isolate them</li>
<li>Example: volume, node</li>
</ul></li>
</ul>
<h4 id="how-namespaces-work-and-how-to-use-it">How Namespaces work and
how to use it?</h4>
<ul>
<li><p>Create components in namespaces</p>
<ul>
<li><p>By default, components are created in a default
namespace</p></li>
<li><p>Using <code>kubectl</code></p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f mysql-configmap.yaml --namespace=my-namespace</span></span><br><span class="line">configmap/mysql-configmap created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get configmap -n my-namespace</span></span><br><span class="line">NAME				DATA 	AGE</span><br><span class="line">mysql-configmap		1		20s</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Using configuration files</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">mysql-configmap</span></span><br><span class="line">	<span class="attr">namespace:</span> <span class="string">my-namespace</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">	<span class="attr">db_url:</span> <span class="string">mysql-service.database</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Recommend to use configuration file over <code>kubectl</code></p>
<ul>
<li>Better documented</li>
<li>More convenient</li>
</ul></li>
</ul></li>
<li><p>Change active namespace with <code>kubens</code></p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubens my-namespace</span></span><br><span class="line">Context "minikube" modified.</span><br><span class="line">Active namespace is "my-namespace".</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<h3 id="k8s-ingress">K8s Ingress</h3>
<h4 id="what-is-ingress">What is Ingress?</h4>
<p>External Service vs. Ingress</p>
<ul>
<li><p>Example YAML file</p>
<ul>
<li><p>External Service:</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">myapp-external-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">selector:</span></span><br><span class="line">		<span class="attr">app:</span> <span class="string">myapp</span></span><br><span class="line">	<span class="attr">type:</span> <span class="string">LoadBalancer</span></span><br><span class="line">	<span class="attr">ports:</span></span><br><span class="line">		<span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">		  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">		  <span class="attr">targetPort:</span> <span class="number">8080</span></span><br><span class="line">		  <span class="attr">nodePort:</span> <span class="number">35010</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Ingress</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">	<span class="attr">name:</span> <span class="string">myapp-ingress</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">rules:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">host:</span> <span class="string">myapp.com</span></span><br><span class="line">	  <span class="attr">http:</span></span><br><span class="line">	  	<span class="attr">paths:</span></span><br><span class="line">	  	<span class="bullet">-</span> <span class="attr">backend:</span></span><br><span class="line">	  		<span class="attr">serviceName:</span> <span class="string">myapp-internal-service</span></span><br><span class="line">	  		<span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>The host should be a valid domain address</li>
<li>The host maps domain name to Node's IP address, which is the
entrypoint</li>
</ul></li>
</ul></li>
</ul>
<h4 id="how-to-configure-ingress-in-your-k8s-cluster">How to configure
Ingress in your K8s cluster?</h4>
<ul>
<li><p>You need an implementation for Ingress which is Ingress
Controller</p>
<ul>
<li>Which is basically another Pod</li>
<li>Evaluates and processes Ingress rules</li>
<li>Manages redirections</li>
<li>Entrypoint to cluster</li>
<li>Many third-party implementations
<ul>
<li>Some cloud service providers have
<ul>
<li>Out-of-the-box K8s solutions</li>
<li>Own virtualized load balancer</li>
<li>You don't have to implement load balancer by yourself</li>
</ul></li>
<li>Bare metal
<ul>
<li>You need to configure some kind of entrypoint</li>
<li>Either inside of cluster or outside as a separate server
<ul>
<li>For example a proxy server</li>
<li>Can be software or hardware solution</li>
</ul></li>
<li>With public IP address and open port</li>
<li>Will be entrypoint to cluster</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Install Ingress on Minikube</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">minikube addons <span class="built_in">enable</span> ingress</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>Configure dashboard for ingress</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">dashboard-ingress</span></span><br><span class="line">	<span class="attr">namespace:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">rules:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">host:</span> <span class="string">dashboard.com</span></span><br><span class="line">	  <span class="attr">http:</span></span><br><span class="line">	  	<span class="attr">paths:</span></span><br><span class="line">	  	<span class="bullet">-</span> <span class="attr">backend:</span></span><br><span class="line">	  		<span class="attr">serviceName:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line">	  		<span class="attr">servicePort:</span> <span class="number">80</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Then apply:</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl apply -f dashboard-ingress.yaml</span></span><br><span class="line">ingress.networking.k8s.io/dashboard-ingress created</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get ingress -n kubernetes-dashboard</span></span><br><span class="line">NAME				HOSTS			ADDRESS			PORTS	AGE</span><br><span class="line">dashboard-ingress	dashboard.com	192.168.64.5	80		50s</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> vim /etc/hosts</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Add the following line here</span></span><br><span class="line">192.168.64.5	dashboard.com</span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
<li><p>Create default backend in Ingress</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">	<span class="attr">name:</span> <span class="string">default-http-backend</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">selector:</span></span><br><span class="line">		<span class="attr">app:</span> <span class="string">default-response-app</span></span><br><span class="line">	<span class="attr">ports:</span></span><br><span class="line">	  <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">	    <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">	    <span class="attr">targetPort:</span> <span class="number">8080</span></span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<h4 id="some-use-cases">Some use cases</h4>
<ul>
<li><p>Multiple paths for same host</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">	<span class="attr">name:</span> <span class="string">simple-fanout-example</span></span><br><span class="line">	<span class="attr">annotations:</span></span><br><span class="line">		<span class="attr">nginx.ingress.kubernetes.io/rewrite-target:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">rules:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">host:</span> <span class="string">myapp.com</span></span><br><span class="line">	  <span class="attr">http:</span></span><br><span class="line">	  	<span class="attr">paths:</span></span><br><span class="line">	  	<span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/analytics</span></span><br><span class="line">	  	  <span class="attr">backend:</span></span><br><span class="line">	  	  	<span class="attr">serviceName:</span> <span class="string">analytics-service</span></span><br><span class="line">	  	  	<span class="attr">servicePort:</span> <span class="number">3000</span></span><br><span class="line">	  	<span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/shopping</span></span><br><span class="line">	  	  <span class="attr">backend:</span></span><br><span class="line">	  	  	<span class="attr">serviceName:</span> <span class="string">shopping-service</span></span><br><span class="line">	  	  	<span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Multiple sub-domains or domains</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">	<span class="attr">name:</span> <span class="string">name-virtual-host-ingress</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">rules:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">host:</span> <span class="string">analytics.myapp.com</span></span><br><span class="line">	  <span class="attr">http:</span></span><br><span class="line">	  	<span class="attr">paths:</span></span><br><span class="line">	  	  <span class="attr">backend:</span></span><br><span class="line">	  	  	<span class="attr">serviceName:</span> <span class="string">analytics-service</span></span><br><span class="line">	  	  	<span class="attr">servicePort:</span> <span class="number">3000</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">host:</span> <span class="string">shopping.myapp.com</span></span><br><span class="line">	  <span class="attr">http:</span></span><br><span class="line">	  	<span class="attr">paths:</span></span><br><span class="line">	  	  <span class="attr">backend:</span></span><br><span class="line">	  	  	<span class="attr">serviceName:</span> <span class="string">shopping-service</span></span><br><span class="line">	  	  	<span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Instead of 1 host and multiple path, you have now multiple hosts
with 1 path. Each host represents a subdomain.</li>
</ul></li>
<li><p>Configuring TLS certificate</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">	<span class="attr">name:</span> <span class="string">tls-example-ingress</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">tls:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">hosts:</span></span><br><span class="line">	  <span class="bullet">-</span> <span class="string">myapp.com</span></span><br><span class="line">	  <span class="attr">secretName:</span> <span class="string">myapp-secret-tls</span></span><br><span class="line">	<span class="attr">rules:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">host:</span> <span class="string">myapp.com</span></span><br><span class="line">	  <span class="attr">http:</span></span><br><span class="line">	  	<span class="attr">paths:</span></span><br><span class="line">	  	<span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">	  	  <span class="attr">backend:</span></span><br><span class="line">	  	  	<span class="attr">serviceName:</span> <span class="string">myapp-internal-service</span></span><br><span class="line">	  	  	<span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></tbody></table></figure>
<p>And in the secret:</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">myapp-secret-tls</span></span><br><span class="line">	<span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">	<span class="attr">tls.crt:</span> <span class="string">base64</span> <span class="string">encoded</span> <span class="string">cert</span></span><br><span class="line">	<span class="attr">tls.key:</span> <span class="string">base64</span> <span class="string">encoded</span> <span class="string">key</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">kubernetes.io/tls</span></span><br></pre></td></tr></tbody></table></figure>
<p>The data keys need to be <code>tls.crt</code> and
<code>tls.key</code>. Their values are file contents, not file
paths/location. The secret component must be in the same namespace as
the Ingress component.</p></li>
</ul>
<h3 id="helm---package-manager">Helm - Package manager</h3>
<h4 id="what-is-helm">What is Helm?</h4>
<ul>
<li>Package manager for Kubernetes</li>
<li>To package YAML files and distribute them in public and private
repositories</li>
</ul>
<h4 id="what-are-helm-charts">What are Helm charts?</h4>
<ul>
<li><p>Bundle of YAML files</p>
<ul>
<li>You can create your own Helm Charts with Helm</li>
<li>For example, charts for database apps and monitoring apps are
already available so you can reuse that configuration</li>
<li>You can also share charts
<ul>
<li>Via public repositories or private ones</li>
</ul></li>
</ul></li>
<li><p>Helm is also a templating engine</p>
<ul>
<li><p>When you try to make many Deployment and Service configurations
which are almost the same.</p></li>
<li><p>An example of template YAML configuration file</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> {{ <span class="string">.Values.name</span> }}</span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">containers:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="attr">name:</span> {{ <span class="string">.Values.container.name</span> }}</span><br><span class="line">	  <span class="attr">image:</span> {{ <span class="string">.Values.container.image</span> }}</span><br><span class="line">	  <span class="attr">port:</span> {{ <span class="string">.Values.container.port</span> <span class="string">s</span>}}</span><br></pre></td></tr></tbody></table></figure>
<p>You then can you a file <code>values.yaml</code> to create pod:</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">my-app</span></span><br><span class="line"><span class="attr">container:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">my-app-container</span></span><br><span class="line">	<span class="attr">image:</span> <span class="string">my-app-image</span></span><br><span class="line">	<span class="attr">port:</span> <span class="number">9001</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>The <code>.Value</code> is
<ul>
<li>object, which is created based on the values defined either via yaml
file or with <code>--set</code> flag in command line.</li>
</ul></li>
</ul></li>
<li><p>Practical for CI/CD</p>
<ul>
<li>In your build you can replace the value on the fly</li>
</ul></li>
</ul></li>
<li><p>Another use case for Helm features</p>
<ul>
<li>Same applications across different environments</li>
</ul></li>
</ul>
<h4 id="helm-chart-strucutre">Helm chart strucutre</h4>
<ul>
<li>Directory structure
<ul>
<li>Top level folder name is the name of chart</li>
<li><code>Chart.yaml</code> contains meta info about chart</li>
<li><code>values.yaml</code> contains values for the template files
<ul>
<li>Template files will be filled with the values from
<code>values.yaml</code>.</li>
</ul></li>
<li><code>charts</code> folder contains chart dependencies</li>
<li><code>template</code> folder contains the actual template files</li>
<li>Optionally other files like <code>Readme</code> or license file</li>
</ul></li>
<li>Values injection into template files
<ul>
<li>With default <code>values.yaml</code> file</li>
<li>Or with your own <code>my-values.yaml</code> file</li>
<li>Or on command line</li>
</ul></li>
</ul>
<h4 id="what-is-tiller">What is Tiller?</h4>
<ul>
<li>Release management
<ul>
<li>Whenever you create or change deployment. The Tiller will store a
copy of the configuration.</li>
<li>Thus keeping track of all chart executions.</li>
</ul></li>
<li>Downsides of Tiller
<ul>
<li>Tiller has too much power inside of K8s cluster</li>
<li>Security issue</li>
<li>In Helm 3 Tiller got removed. It solves the security concern.</li>
</ul></li>
</ul>
<h3 id="volumnes---persisting-data-in-k8s">Volumnes - Persisting data in
K8s</h3>
<ul>
<li>No data persistence out of the box for K8s. You need to configure
that.</li>
</ul>
<h4 id="storage-requirement">Storage requirement</h4>
<ul>
<li>You need a storage that doesn't depend on the pod lifecycle.</li>
<li>Storage must be available on all nodes.</li>
<li>Storage needs to survive even if cluster crashes.</li>
</ul>
<h4 id="how-to-persist-data-in-kubernetes-using-volumes">How to persist
data in Kubernetes using volumes</h4>
<ul>
<li><p>Persistent volume</p>
<ul>
<li><p>A cluster resource</p></li>
<li><p>Created via YAML file</p>
<ul>
<li><code>kind: PersistentVolume</code></li>
<li><code>spec</code>: e.g. how much storage</li>
</ul></li>
<li><p>Needs actual physical storage, like nfs server,
cloud-storage.</p>
<ul>
<li>Where does this storage come from and who makes it available to the
cluster?
<ul>
<li>It is an external plugin to your cluster</li>
<li>You need to create and manage them by yourself</li>
</ul></li>
</ul></li>
<li><p>Persistent volume YAML example with NFS storage</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersioin:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">pv-name</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">capacity:</span></span><br><span class="line">		<span class="attr">storage:</span> <span class="string">5Gi</span></span><br><span class="line">	<span class="attr">volumeMode:</span> <span class="string">Filesystem</span></span><br><span class="line">	<span class="attr">accessModes:</span></span><br><span class="line">	  <span class="bullet">-</span> <span class="string">ReadWriteOnce</span></span><br><span class="line">	<span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Recycle</span></span><br><span class="line">	<span class="attr">storageClassName:</span> <span class="string">slow</span></span><br><span class="line">	<span class="attr">mountOptions:</span></span><br><span class="line">	  <span class="bullet">-</span> <span class="string">hard</span></span><br><span class="line">	  <span class="bullet">-</span> <span class="string">nfsvers=4.0</span></span><br><span class="line">	<span class="attr">nfs:</span></span><br><span class="line">	  <span class="attr">path:</span> <span class="string">/dir/path/on/nfs/server</span></span><br><span class="line">	  <span class="attr">server:</span> <span class="string">nfs-server-ip-address</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Persistent volume YAML example with local storage</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">example-pv</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">capacity:</span></span><br><span class="line">		<span class="attr">storage:</span> <span class="string">100Gi</span></span><br><span class="line">	<span class="attr">volumeMode:</span> <span class="string">Filesystem</span></span><br><span class="line">	<span class="attr">accessmodes:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="string">ReadWriteOnce</span></span><br><span class="line">	<span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Delete</span></span><br><span class="line">	<span class="attr">storageClassName:</span> <span class="string">local-storage</span></span><br><span class="line">	<span class="attr">local:</span> </span><br><span class="line">		<span class="attr">path:</span> <span class="string">/mnt/disks/ssd1</span></span><br><span class="line">	<span class="attr">nodeAffinity:</span></span><br><span class="line">		<span class="attr">required:</span></span><br><span class="line">			<span class="attr">nodeSelectorTerms:</span></span><br><span class="line">			<span class="bullet">-</span> <span class="attr">matchExpressions:</span></span><br><span class="line">			  <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">kubernetes.io/hostname</span></span><br><span class="line">			    <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">			    <span class="attr">values:</span> </span><br><span class="line">			    <span class="bullet">-</span> <span class="string">example-node</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Depending on storage type, spec attributes differ.</p></li>
<li><p>Persistent volumes are NOT namespaced.</p>
<ul>
<li>Accessible to the whole cluster.</li>
</ul></li>
<li><p>Local vs. Remote volume types</p>
<ul>
<li>Each volume type has it's own use case
<ul>
<li>Local volme type violate 2. and 3. requirement for data persistence
<ul>
<li>Being tied to 1 specific node</li>
<li>Surviving cluster crashes</li>
</ul></li>
<li>For DB persistence use remote storage</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Storage class</p></li>
</ul>
<h4 id="who-creates-the-persistent-volumes-and-when">Who creates the
Persistent Volumes and when?</h4>
<ul>
<li><p>PV are resources that need to be there BEFORE the Pod that
depends on it is created.</p></li>
<li><p>K8s admin sets up and maintains the cluster.</p>
<ul>
<li>Storage resource is provisioned by Admin.</li>
<li>Admin creates the PV components from some storage backends</li>
</ul></li>
<li><p>K8s user deploys applications in cluster.</p>
<ul>
<li><p>Application has to claim the PV with Persistent Volume Claim
(pvc)</p></li>
<li><p>Claims must be in the same namespace as the Pod using
it.</p></li>
<li><p>An example of PVC</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">pvc-name</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">storageClassName:</span> <span class="string">manual</span></span><br><span class="line">	<span class="attr">volumeMode:</span> <span class="string">Filesystem</span></span><br><span class="line">	<span class="attr">accessModes:</span></span><br><span class="line">	  <span class="bullet">-</span> <span class="string">ReadWriteOnce</span></span><br><span class="line">	<span class="attr">resources:</span></span><br><span class="line">	  <span class="attr">requests:</span></span><br><span class="line">	    <span class="attr">storage:</span> <span class="string">10Gi</span></span><br></pre></td></tr></tbody></table></figure>
<p>Use that PVC in Pods configuration</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">	<span class="attr">name:</span> <span class="string">mypod</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">	<span class="attr">containers:</span></span><br><span class="line">	  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">myfrontend</span></span><br><span class="line">	    <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">	    <span class="attr">volumeMounts:</span></span><br><span class="line">	    <span class="bullet">-</span> <span class="attr">mountPath:</span> <span class="string">"/var/www/html"</span></span><br><span class="line">	      <span class="attr">name:</span> <span class="string">mypd</span></span><br><span class="line">	<span class="attr">volumes:</span> </span><br><span class="line">	  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">mypd</span></span><br><span class="line">	    <span class="attr">persistentVolumeClaim:</span></span><br><span class="line">	      <span class="attr">claimName:</span> <span class="string">pvc-name</span></span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
<li><p>Levels of Volume abstractions</p>
<ul>
<li>Pod requests the volume through the PV claim</li>
<li>Claim tries to find a volume in cluster</li>
<li>Volume has the actual storage backend
<ul>
<li>Volume is mounted into Container</li>
<li>Volume is mounted into the Pod</li>
</ul></li>
</ul></li>
</ul>
<h4 id="storage-class">Storage class</h4>
<ul>
<li><p>Storage class provisions Persistent Volumes dynamically whenever
PersistentVolumeClaim claims it.</p></li>
<li><p>For example:</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">storage.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">StorageClass</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">	<span class="attr">name:</span> <span class="string">storage-class-name</span></span><br><span class="line"><span class="attr">provisioner:</span> <span class="string">kubernetes.io/aws-ebs</span></span><br><span class="line"><span class="attr">parameters:</span></span><br><span class="line">	<span class="attr">type:</span> <span class="string">io1</span></span><br><span class="line">	<span class="attr">iopsPerGb:</span> <span class="string">"10"</span></span><br><span class="line">	<span class="attr">fsType:</span> <span class="string">ext4</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>StorageBackend is defined in the Storage class component
<ul>
<li>Via <code>provisioner</code> attribute</li>
<li>Each storage backend has own provisioner</li>
<li>Internal provisioner - <code>kubernetes.io</code></li>
</ul></li>
</ul></li>
<li><p>Another abstraction level</p>
<ul>
<li>Abstracts underlying storage provider</li>
<li>Abstracts parameters for that storage</li>
</ul></li>
<li><p>Usage:</p>
<ul>
<li><p>Requested by PVC. For example in PVC config:</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">mypvc</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">	<span class="attr">accessModes:</span></span><br><span class="line">	<span class="bullet">-</span> <span class="string">ReadWriteOnce</span></span><br><span class="line">	<span class="attr">resources:</span></span><br><span class="line">		<span class="attr">requests:</span></span><br><span class="line">			<span class="attr">storage:</span> <span class="string">100Gi</span></span><br><span class="line">    <span class="attr">storageClassName:</span> <span class="string">storage-class-name</span></span><br></pre></td></tr></tbody></table></figure></li>
</ul></li>
</ul>
<h3 id="k8s-statefulset---deploying-stateful-apps">K8s StatefulSet -
Deploying stateful apps</h3>
<h4 id="statefulset-for-stateful-applications">StatefulSet for stateful
applications</h4>
<ul>
<li>Stateful applications
<ul>
<li>For example, databases</li>
<li>Applications that stores data</li>
<li>Update data based on previous state</li>
<li>Query data</li>
<li>Depends on most up-to-date data/state</li>
</ul></li>
<li>Stateless applications
<ul>
<li>Don't keep record of state</li>
<li>Each request is completely new</li>
<li>Pass-through for data query/update</li>
</ul></li>
</ul>
<h4 id="deployment-of-stateful-and-stateless-applications">Deployment of
stateful and stateless applications</h4>
<ul>
<li>Stateless applications are deployed using Deployment component
<ul>
<li>Replicated pods are identical and interchangable</li>
<li>Created in random order with random hashes</li>
<li>One Service that load balances to any Pod</li>
</ul></li>
<li>Stateful applications are deployed using StatefulSet component
<ul>
<li>Replicating stateful applications is more difficult and having other
requirements</li>
<li>Can't be created/deleted at same time</li>
<li>Can't be randomly addressed</li>
<li>Replica Pods are not identical
<ul>
<li>Requires Pod identity
<ul>
<li>Sticky identity for each pod</li>
<li>Created from same specification, but not interchangeable</li>
<li>Persistent identifier across any re-scheduling</li>
<li>Identities are required because in a large scale database
applications, each Pod may have their own database. But the data needs
to be synchronized.
<ul>
<li>Better to have persistent volume not tied to specific node than one
common storage</li>
</ul></li>
</ul></li>
<li>StatefulSet pods get fixed orderedd names</li>
</ul></li>
<li>For example, a StatefulSet with 3 replica. Next Pod is only created,
if previous is up and running. Deletion happens in reverse order,
starting from the last Pod.</li>
<li>2 Pod endpoints
<ul>
<li>Each Pod gets its own DNS endpoint from Service</li>
<li>2 characteristics: a predictable pod name and fixed individual DNS
name
<ul>
<li>When Pod restarts, its IP address changes, but name and endpoint
stays same</li>
</ul></li>
</ul></li>
<li>It is complex to replicate stateful apps. Kubernetes helps you. You
still need to do a lot.
<ul>
<li>Configuring the cloning and data synchronization</li>
<li>Make remote storage available</li>
<li>Managing and back-up</li>
</ul></li>
<li>Stateful applications not perfect for containerized
environments</li>
</ul></li>
</ul>
<h3 id="k8s-services">K8s Services</h3>
<h4 id="what-is-a-service-and-when-we-need-it">What is a Service and
when we need it?</h4>
<ul>
<li>Each Pod has its own IP address
<ul>
<li>Pods are ephemeral - they are destroyed frequently</li>
</ul></li>
<li>Service:
<ul>
<li>Stable IP address</li>
<li>Load balancing</li>
<li>Loose coupling</li>
<li>Within &amp; outside cluster</li>
</ul></li>
</ul>
<h4 id="clusterip-services"><code>ClusterIP</code> Services</h4>
<ul>
<li><p>Default type</p></li>
<li><p>It is not a process, just an abstraction of a IP address</p></li>
<li><p>Which Pods to forward the request to?</p>
<ul>
<li>Pods are identified via <code>selector</code></li>
<li>Key value pairs</li>
<li>Labels of pods</li>
</ul></li>
<li><p>Which port to forward request to?</p>
<ul>
<li>Ports are identified via <code>targetPort</code></li>
<li>Service port is arbitrary</li>
<li><code>taretPort</code> must match the port the container is
listening at</li>
</ul></li>
<li><p>K8s creates Endpoint object</p>
<ul>
<li>Same name as Service</li>
<li>Keeps track of, which Pods are the members/endpoints of the
Service</li>
</ul></li>
<li><p>Headless Services</p>
<ul>
<li><p>When client wants to communicate with 1 specific Pod
directly</p></li>
<li><p>Or Pods want to talk directly with specific Pod</p></li>
<li><p>So, not randomly selected</p>
<ul>
<li>Use case: Stateful applications
<ul>
<li>Pod replicas are not identical</li>
</ul></li>
<li>Client needs to figure out IP addresses of each Pod
<ul>
<li>Option 1 - API call to K9s API server
<ul>
<li>Makes app too tied to K8s API</li>
<li>Inefficient</li>
</ul></li>
<li>Option 2 - DNS Lookup
<ul>
<li>DNS Lookup for Service - returns single IP address (ClusterIP)</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>No cluster IP address is assigned</p></li>
</ul></li>
</ul>
<h4 id="service-type-attributes">3 Service type attributes</h4>
<ul>
<li><code>ClusterIP</code>
<ul>
<li>Default, type not needed</li>
<li>Internal service, only accessible within cluster</li>
</ul></li>
<li><code>NodePort</code>
<ul>
<li>External traffic has access to fixed port on each Worker Node</li>
<li>The port of <code>NodePort</code> is defined with
<code>nodePort</code> attribute
<ul>
<li>Within the range 30000 - 32767</li>
</ul></li>
<li>When we create a <code>NodePort</code> service, a
<code>ClusterIP</code> service is automatically created
<ul>
<li><code>NodePort</code> service is an extension of
<code>ClusterIP</code> service</li>
</ul></li>
<li><code>NodePort</code> services is not secure
<ul>
<li>Configure Ingress or LoadBalancer for production environments</li>
</ul></li>
</ul></li>
<li><code>LoadBalancer</code>
<ul>
<li>Becomes accessible externally through cloud providers load
balancer</li>
<li><code>NodePort</code> and <code>ClusterIP</code> services are
created automatically when we create a <code>LoadBalancer</code> service
<ul>
<li><code>LoadBalancer</code> service is an extension of
<code>NodePort</code> service</li>
</ul></li>
</ul></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Programming/" rel="tag"># Programming</a>
              <a href="/tags/DevOps/" rel="tag"># DevOps</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/intro-stats/" rel="prev" title="Introduction to Probability and Statistics">
                  <i class="fa fa-angle-left"></i> Introduction to Probability and Statistics
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/wordle_solving/" rel="next" title="Solving Wordle">
                  Solving Wordle <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
     
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-cat"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Yue Jiao</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">691k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">10:29</span>
  </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> &amp; <a href="https://theme-next.js.org/" rel="noopener external nofollow noreferrer" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>








  







<script src="/bundle.js"></script></body></html>